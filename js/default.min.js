var hexcase=0,b64pad="=",chrsz=8;function hex_sha1(a){return binb2hex(core_sha1(str2binb(a),a.length*chrsz))}function b64_sha1(a){return binb2b64(core_sha1(str2binb(a),a.length*chrsz))}function str_sha1(a){return binb2str(core_sha1(str2binb(a),a.length*chrsz))}function hex_hmac_sha1(a,h){return binb2hex(core_hmac_sha1(a,h))}function b64_hmac_sha1(a,h){return binb2b64(core_hmac_sha1(a,h))}function str_hmac_sha1(a,h){return binb2str(core_hmac_sha1(a,h))}
function sha1_vm_test(){return hex_sha1("abc")=="a9993e364706816aba3e25717850c26c9cd0d89d"}
function core_sha1(a,h){a[h>>5]|=128<<24-h%32;a[(h+64>>9<<4)+15]=h;for(var e=Array(80),d=1732584193,m=-271733879,l=-1732584194,k=271733878,n=-1009589776,q=0;q<a.length;q+=16){for(var t=d,v=m,w=l,o=k,f=n,g=0;g<80;g++){e[g]=g<16?a[q+g]:rol(e[g-3]^e[g-8]^e[g-14]^e[g-16],1);var c=safe_add(safe_add(rol(d,5),sha1_ft(g,m,l,k)),safe_add(safe_add(n,e[g]),sha1_kt(g)));n=k;k=l;l=rol(m,30);m=d;d=c}d=safe_add(d,t);m=safe_add(m,v);l=safe_add(l,w);k=safe_add(k,o);n=safe_add(n,f)}return[d,m,l,k,n]}
function sha1_ft(a,h,e,d){if(a<20)return h&e|~h&d;if(a<40)return h^e^d;if(a<60)return h&e|h&d|e&d;return h^e^d}function sha1_kt(a){return a<20?1518500249:a<40?1859775393:a<60?-1894007588:-899497514}function core_hmac_sha1(a,h){var e=str2binb(a);e.length>16&&(e=core_sha1(e,a.length*chrsz));for(var d=Array(16),m=Array(16),l=0;l<16;l++)d[l]=e[l]^909522486,m[l]=e[l]^1549556828;e=core_sha1(d.concat(str2binb(h)),512+h.length*chrsz);return core_sha1(m.concat(e),672)}
function safe_add(a,h){var e=(a&65535)+(h&65535);return(a>>16)+(h>>16)+(e>>16)<<16|e&65535}function rol(a,h){return a<<h|a>>>32-h}function str2binb(a){for(var h=[],e=(1<<chrsz)-1,d=0;d<a.length*chrsz;d+=chrsz)h[d>>5]|=(a.charCodeAt(d/chrsz)&e)<<32-chrsz-d%32;return h}function binb2str(a){for(var h="",e=(1<<chrsz)-1,d=0;d<a.length*32;d+=chrsz)h+=String.fromCharCode(a[d>>5]>>>32-chrsz-d%32&e);return h}
function binb2hex(a){for(var h=hexcase?"0123456789ABCDEF":"0123456789abcdef",e="",d=0;d<a.length*4;d++)e+=h.charAt(a[d>>2]>>(3-d%4)*8+4&15)+h.charAt(a[d>>2]>>(3-d%4)*8&15);return e}function binb2b64(a){for(var h="",e=0;e<a.length*4;e+=3)for(var d=(a[e>>2]>>8*(3-e%4)&255)<<16|(a[e+1>>2]>>8*(3-(e+1)%4)&255)<<8|a[e+2>>2]>>8*(3-(e+2)%4)&255,m=0;m<4;m++)h+=e*8+m*6>a.length*32?b64pad:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d>>6*(3-m)&63);return h}Date.ext={};
Date.ext.util={};Date.ext.util.xPad=function(a,h,e){for(typeof e=="undefined"&&(e=10);parseInt(a,10)<e&&e>1;e/=10)a=h.toString()+a;return a.toString()};Date.prototype.locale="en-GB";if(document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang)Date.prototype.locale=document.getElementsByTagName("html")[0].lang;Date.ext.locales={};
Date.ext.locales.en={a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a %d %b %Y %T %Z",p:["AM","PM"],P:["am","pm"],x:"%d/%m/%y",X:"%T"};Date.ext.locales["en-US"]=Date.ext.locales.en;Date.ext.locales["en-US"].c="%a %d %b %Y %r %Z";
Date.ext.locales["en-US"].x="%D";Date.ext.locales["en-US"].X="%r";Date.ext.locales["en-GB"]=Date.ext.locales.en;Date.ext.locales["en-AU"]=Date.ext.locales["en-GB"];
Date.ext.formats={a:function(a){return Date.ext.locales[a.locale].a[a.getDay()]},A:function(a){return Date.ext.locales[a.locale].A[a.getDay()]},b:function(a){return Date.ext.locales[a.locale].b[a.getMonth()]},B:function(a){return Date.ext.locales[a.locale].B[a.getMonth()]},c:"toLocaleString",C:function(a){return Date.ext.util.xPad(parseInt(a.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(a){return Date.ext.util.xPad(parseInt(Date.ext.util.G(a)/100,10),0)},G:function(a){var h=
a.getFullYear(),e=parseInt(Date.ext.formats.V(a),10);a=parseInt(Date.ext.formats.W(a),10);a>e?h++:a===0&&e>=52&&h--;return h},H:["getHours","0"],I:function(a){a=a.getHours()%12;return Date.ext.util.xPad(a===0?12:a,0)},j:function(a){var h=a-new Date(""+a.getFullYear()+"/1/1 GMT");h+=a.getTimezoneOffset()*6E4;a=parseInt(h/6E4/60/24,10)+1;return Date.ext.util.xPad(a,0,100)},m:function(a){return Date.ext.util.xPad(a.getMonth()+1,0)},M:["getMinutes","0"],p:function(a){return Date.ext.locales[a.locale].p[a.getHours()>=
12?1:0]},P:function(a){return Date.ext.locales[a.locale].P[a.getHours()>=12?1:0]},S:["getSeconds","0"],u:function(a){a=a.getDay();return a===0?7:a},U:function(a){var h=parseInt(Date.ext.formats.j(a),10);a=6-a.getDay();h=parseInt((h+a)/7,10);return Date.ext.util.xPad(h,0)},V:function(a){var h=parseInt(Date.ext.formats.W(a),10),e=(new Date(""+a.getFullYear()+"/1/1")).getDay();h+=e>4||e<=1?0:1;h==53&&(new Date(""+a.getFullYear()+"/12/31")).getDay()<4?h=1:h===0&&(h=Date.ext.formats.V(new Date(""+(a.getFullYear()-
1)+"/12/31")));return Date.ext.util.xPad(h,0)},w:"getDay",W:function(a){var h=parseInt(Date.ext.formats.j(a),10);a=7-Date.ext.formats.u(a);h=parseInt((h+a)/7,10);return Date.ext.util.xPad(h,0,10)},y:function(a){return Date.ext.util.xPad(a.getFullYear()%100,0)},Y:"getFullYear",z:function(a){a=a.getTimezoneOffset();var h=Date.ext.util.xPad(parseInt(Math.abs(a/60),10),0),e=Date.ext.util.xPad(a%60,0);return(a>0?"-":"+")+h+e},Z:function(a){return a.toString().replace(/^.*\(([^)]+)\)$/,"$1")},"%":function(){return"%"}};
Date.ext.aggregates={c:"locale",D:"%m/%d/%y",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"\t",T:"%H:%M:%S",x:"locale",X:"locale"};Date.ext.aggregates.z=Date.ext.formats.z(new Date);Date.ext.aggregates.Z=Date.ext.formats.Z(new Date);Date.ext.unsupported={};
Date.prototype.strftime=function(a){if(!(this.locale in Date.ext.locales))this.locale=this.locale.replace(/-[a-zA-Z]+$/,"")in Date.ext.locales?this.locale.replace(/-[a-zA-Z]+$/,""):"en-GB";for(var h=this;a.match(/%[cDhnrRtTxXzZ]/);)a=a.replace(/%([cDhnrRtTxXzZ])/g,function(a,d){var m=Date.ext.aggregates[d];return m=="locale"?Date.ext.locales[h.locale][d]:m});a=a.replace(/%([aAbBCdegGHIjmMpPSuUVwWyY%])/g,function(a,d){var m=Date.ext.formats[d];return typeof m=="string"?h[m]():typeof m=="function"?
m.call(h,h):typeof m=="object"&&typeof m[0]=="string"?Date.ext.util.xPad(h[m[0]](),m[1]):d});h=null;return a};
(function(a,h){function e(){if(!c.isReady){try{p.documentElement.doScroll("left")}catch(b){setTimeout(e,1);return}c.ready()}}function d(b,i){i.src?c.ajax({url:i.src,async:!1,dataType:"script"}):c.globalEval(i.text||i.textContent||i.innerHTML||"");i.parentNode&&i.parentNode.removeChild(i)}function m(b,i,j,z,r,a){var f=b.length;if(typeof i==="object"){for(var g in i)m(b,g,i[g],z,r,j);return b}if(j!==h){z=!a&&z&&c.isFunction(j);for(g=0;g<f;g++)r(b[g],i,z?j.call(b[g],g,r(b[g],i)):j,a);return b}return f?
r(b[0],i):h}function l(){return(new Date).getTime()}function k(){return!1}function n(){return!0}function q(b,i,j){j[0].type=b;return c.event.handle.apply(i,j)}function t(b){var i,j=[],z=[],r=arguments,a,f,h,g,d,e;f=c.data(this,"events");if(!(b.liveFired===this||!f||!f.live||b.button&&b.type==="click")){b.liveFired=this;var l=f.live.slice(0);for(g=0;g<l.length;g++)f=l[g],f.origType.replace(F,"")===b.type?z.push(f.selector):l.splice(g--,1);a=c(b.target).closest(z,b.currentTarget);d=0;for(e=a.length;d<
e;d++)for(g=0;g<l.length;g++)if(f=l[g],a[d].selector===f.selector){h=a[d].elem;z=null;if(f.preType==="mouseenter"||f.preType==="mouseleave")z=c(b.relatedTarget).closest(f.selector)[0];(!z||z!==h)&&j.push({elem:h,handleObj:f})}d=0;for(e=j.length;d<e;d++)if(a=j[d],b.currentTarget=a.elem,b.data=a.handleObj.data,b.handleObj=a.handleObj,a.handleObj.origHandler.apply(a.elem,r)===!1){i=!1;break}return i}}function v(b,c){return"live."+(b&&b!=="*"?b+".":"")+c.replace(/\./g,"`").replace(/ /g,"&")}function w(b,
i){var j=0;i.each(function(){if(this.nodeName===(b[j]&&b[j].nodeName)){var i=c.data(b[j++]),a=c.data(this,i);if(i=i&&i.events)for(var f in delete a.handle,a.events={},i)for(var h in i[f])c.event.add(this,f,i[f][h],i[f][h].data)}})}function o(b,i,j){var a,r,f;i=i&&i[0]?i[0].ownerDocument||i[0]:p;if(b.length===1&&typeof b[0]==="string"&&b[0].length<512&&i===p&&!X.test(b[0])&&(c.support.checkClone||!Y.test(b[0])))r=!0,(f=c.fragments[b[0]])&&f!==1&&(a=f);a||(a=i.createDocumentFragment(),c.clean(b,i,a,
j));r&&(c.fragments[b[0]]=f?a:1);return{fragment:a,cacheable:r}}function f(b,i){var j={};c.each(Z.concat.apply([],Z.slice(0,i)),function(){j[this]=b});return j}function g(b){return"scrollTo"in b&&b.document?b:b.nodeType===9?b.defaultView||b.parentWindow:!1}var c=function(b,i){return new c.fn.init(b,i)},s=a.jQuery,x=a.$,p=a.document,A,u=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,aa=/^.[^:#\[\.,]*$/,G=/\S/,ua=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,va=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,H=navigator.userAgent,ba=!1,D=[],
B,L=Object.prototype.toString,M=Object.prototype.hasOwnProperty,N=Array.prototype.push,I=Array.prototype.slice,ca=Array.prototype.indexOf;c.fn=c.prototype={init:function(b,i){var j,a,f;if(!b)return this;if(b.nodeType)return this.context=this[0]=b,this.length=1,this;if(b==="body"&&!i)return this.context=p,this[0]=p.body,this.selector="body",this.length=1,this;if(typeof b==="string")if((j=u.exec(b))&&(j[1]||!i))if(j[1])return f=i?i.ownerDocument||i:p,(a=va.exec(b))?c.isPlainObject(i)?(b=[p.createElement(a[1])],
c.fn.attr.call(b,i,!0)):b=[f.createElement(a[1])]:(a=o([j[1]],[f]),b=(a.cacheable?a.fragment.cloneNode(!0):a.fragment).childNodes),c.merge(this,b);else{if(a=p.getElementById(j[2])){if(a.id!==j[2])return A.find(b);this.length=1;this[0]=a}this.context=p;this.selector=b;return this}else return!i&&/^\w+$/.test(b)?(this.selector=b,this.context=p,b=p.getElementsByTagName(b),c.merge(this,b)):!i||i.jquery?(i||A).find(b):c(i).find(b);else if(c.isFunction(b))return A.ready(b);if(b.selector!==h)this.selector=
b.selector,this.context=b.context;return c.makeArray(b,this)},selector:"",jquery:"1.4.2",length:0,size:function(){return this.length},toArray:function(){return I.call(this,0)},get:function(b){return b==null?this.toArray():b<0?this.slice(b)[0]:this[b]},pushStack:function(b,i,j){var a=c();c.isArray(b)?N.apply(a,b):c.merge(a,b);a.prevObject=this;a.context=this.context;if(i==="find")a.selector=this.selector+(this.selector?" ":"")+j;else if(i)a.selector=this.selector+"."+i+"("+j+")";return a},each:function(b,
i){return c.each(this,b,i)},ready:function(b){c.bindReady();c.isReady?b.call(p,c):D&&D.push(b);return this},eq:function(b){return b===-1?this.slice(b):this.slice(b,+b+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(I.apply(this,arguments),"slice",I.call(arguments).join(","))},map:function(b){return this.pushStack(c.map(this,function(c,j){return b.call(c,j,c)}))},end:function(){return this.prevObject||c(null)},push:N,sort:[].sort,splice:[].splice};
c.fn.init.prototype=c.fn;c.extend=c.fn.extend=function(){var b=arguments[0]||{},i=1,j=arguments.length,a=!1,f,g,d,e;typeof b==="boolean"&&(a=b,b=arguments[1]||{},i=2);typeof b!=="object"&&!c.isFunction(b)&&(b={});j===i&&(b=this,--i);for(;i<j;i++)if((f=arguments[i])!=null)for(g in f)d=b[g],e=f[g],b!==e&&(a&&e&&(c.isPlainObject(e)||c.isArray(e))?(d=d&&(c.isPlainObject(d)||c.isArray(d))?d:c.isArray(e)?[]:{},b[g]=c.extend(a,d,e)):e!==h&&(b[g]=e));return b};c.extend({noConflict:function(b){a.$=x;if(b)a.jQuery=
s;return c},isReady:!1,ready:function(){if(!c.isReady){if(!p.body)return setTimeout(c.ready,13);c.isReady=!0;if(D){for(var b,i=0;b=D[i++];)b.call(p,c);D=null}c.fn.triggerHandler&&c(p).triggerHandler("ready")}},bindReady:function(){if(!ba){ba=!0;if(p.readyState==="complete")return c.ready();if(p.addEventListener)p.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",c.ready,!1);else if(p.attachEvent){p.attachEvent("onreadystatechange",B);a.attachEvent("onload",c.ready);var b=!1;try{b=
a.frameElement==null}catch(i){}p.documentElement.doScroll&&b&&e()}}},isFunction:function(b){return L.call(b)==="[object Function]"},isArray:function(b){return L.call(b)==="[object Array]"},isPlainObject:function(b){if(!b||L.call(b)!=="[object Object]"||b.nodeType||b.setInterval)return!1;if(b.constructor&&!M.call(b,"constructor")&&!M.call(b.constructor.prototype,"isPrototypeOf"))return!1;for(var c in b);return c===h||M.call(b,c)},isEmptyObject:function(b){for(var c in b)return!1;return!0},error:function(b){throw b;
},parseJSON:function(b){if(typeof b!=="string"||!b)return null;b=c.trim(b);if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return a.JSON&&a.JSON.parse?a.JSON.parse(b):(new Function("return "+b))();else c.error("Invalid JSON: "+b)},noop:function(){},globalEval:function(b){if(b&&G.test(b)){var i=p.getElementsByTagName("head")[0]||p.documentElement,j=p.createElement("script");
j.type="text/javascript";c.support.scriptEval?j.appendChild(p.createTextNode(b)):j.text=b;i.insertBefore(j,i.firstChild);i.removeChild(j)}},nodeName:function(b,c){return b.nodeName&&b.nodeName.toUpperCase()===c.toUpperCase()},each:function(b,i,j){var a,f=0,g=b.length,d=g===h||c.isFunction(b);if(j)if(d)for(a in b){if(i.apply(b[a],j)===!1)break}else for(;f<g;){if(i.apply(b[f++],j)===!1)break}else if(d)for(a in b){if(i.call(b[a],a,b[a])===!1)break}else for(j=b[0];f<g&&i.call(j,f,j)!==!1;j=b[++f]);return b},
trim:function(b){return(b||"").replace(ua,"")},makeArray:function(b,i){var j=i||[];b!=null&&(b.length==null||typeof b==="string"||c.isFunction(b)||typeof b!=="function"&&b.setInterval?N.call(j,b):c.merge(j,b));return j},inArray:function(b,c){if(c.indexOf)return c.indexOf(b);for(var j=0,a=c.length;j<a;j++)if(c[j]===b)return j;return-1},merge:function(b,c){var j=b.length,a=0;if(typeof c.length==="number")for(var f=c.length;a<f;a++)b[j++]=c[a];else for(;c[a]!==h;)b[j++]=c[a++];b.length=j;return b},grep:function(b,
c,j){for(var a=[],f=0,g=b.length;f<g;f++)!j!==!c(b[f],f)&&a.push(b[f]);return a},map:function(b,c,j){for(var a=[],f,g=0,h=b.length;g<h;g++)f=c(b[g],g,j),f!=null&&(a[a.length]=f);return a.concat.apply([],a)},guid:1,proxy:function(b,i,j){arguments.length===2&&(typeof i==="string"?(j=b,b=j[i],i=h):i&&!c.isFunction(i)&&(j=i,i=h));!i&&b&&(i=function(){return b.apply(j||this,arguments)});if(b)i.guid=b.guid=b.guid||i.guid||c.guid++;return i},uaMatch:function(b){b=b.toLowerCase();b=/(webkit)[ \/]([\w.]+)/.exec(b)||
/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||!/compatible/.test(b)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(b)||[];return{browser:b[1]||"",version:b[2]||"0"}},browser:{}});H=c.uaMatch(H);if(H.browser)c.browser[H.browser]=!0,c.browser.version=H.version;if(c.browser.webkit)c.browser.safari=!0;if(ca)c.inArray=function(b,c){return ca.call(c,b)};A=c(p);p.addEventListener?B=function(){p.removeEventListener("DOMContentLoaded",B,!1);c.ready()}:p.attachEvent&&(B=function(){p.readyState===
"complete"&&(p.detachEvent("onreadystatechange",B),c.ready())});(function(){c.support={};var b=p.documentElement,i=p.createElement("script"),j=p.createElement("div"),f="script"+l();j.style.display="none";j.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var r=j.getElementsByTagName("*"),g=j.getElementsByTagName("a")[0];if(r&&r.length&&g){c.support={leadingWhitespace:j.firstChild.nodeType===3,tbody:!j.getElementsByTagName("tbody").length,
htmlSerialize:!!j.getElementsByTagName("link").length,style:/red/.test(g.getAttribute("style")),hrefNormalized:g.getAttribute("href")==="/a",opacity:/^0.55$/.test(g.style.opacity),cssFloat:!!g.style.cssFloat,checkOn:j.getElementsByTagName("input")[0].value==="on",optSelected:p.createElement("select").appendChild(p.createElement("option")).selected,parentNode:j.removeChild(j.appendChild(p.createElement("div"))).parentNode===null,deleteExpando:!0,checkClone:!1,scriptEval:!1,noCloneEvent:!0,boxModel:null};
i.type="text/javascript";try{i.appendChild(p.createTextNode("window."+f+"=1;"))}catch(h){}b.insertBefore(i,b.firstChild);if(a[f])c.support.scriptEval=!0,delete a[f];try{delete i.test}catch(d){c.support.deleteExpando=!1}b.removeChild(i);j.attachEvent&&j.fireEvent&&(j.attachEvent("onclick",function ta(){c.support.noCloneEvent=!1;j.detachEvent("onclick",ta)}),j.cloneNode(!0).fireEvent("onclick"));j=p.createElement("div");j.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";b=p.createDocumentFragment();
b.appendChild(j.firstChild);c.support.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked;c(function(){var b=p.createElement("div");b.style.width=b.style.paddingLeft="1px";p.body.appendChild(b);c.boxModel=c.support.boxModel=b.offsetWidth===2;p.body.removeChild(b).style.display="none"});b=function(b){var c=p.createElement("div");b="on"+b;var i=b in c;i||(c.setAttribute(b,"return;"),i=typeof c[b]==="function");return i};c.support.submitBubbles=b("submit");c.support.changeBubbles=b("change");
b=i=j=r=g=null}})();c.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var C="jQuery"+l(),wa=0,da={};c.extend({cache:{},expando:C,noData:{embed:!0,object:!0,applet:!0},data:function(b,i,j){if(!b.nodeName||!c.noData[b.nodeName.toLowerCase()]){b=b==a?da:b;var f=b[C],r=c.cache;if(!f&&typeof i==="string"&&j===h)return null;f||(f=++wa);typeof i===
"object"?(b[C]=f,r[f]=c.extend(!0,{},i)):r[f]||(b[C]=f,r[f]={});b=r[f];j!==h&&(b[i]=j);return typeof i==="string"?b[i]:b}},removeData:function(b,i){if(!b.nodeName||!c.noData[b.nodeName.toLowerCase()]){b=b==a?da:b;var j=b[C],f=c.cache,r=f[j];i?r&&(delete r[i],c.isEmptyObject(r)&&c.removeData(b)):(c.support.deleteExpando?delete b[c.expando]:b.removeAttribute&&b.removeAttribute(c.expando),delete f[j])}}});c.fn.extend({data:function(b,i){if(typeof b==="undefined"&&this.length)return c.data(this[0]);else if(typeof b===
"object")return this.each(function(){c.data(this,b)});var j=b.split(".");j[1]=j[1]?"."+j[1]:"";if(i===h){var a=this.triggerHandler("getData"+j[1]+"!",[j[0]]);a===h&&this.length&&(a=c.data(this[0],b));return a===h&&j[1]?this.data(j[0]):a}else return this.trigger("setData"+j[1]+"!",[j[0],i]).each(function(){c.data(this,b,i)})},removeData:function(b){return this.each(function(){c.removeData(this,b)})}});c.extend({queue:function(b,i,j){if(b){i=(i||"fx")+"queue";var a=c.data(b,i);if(!j)return a||[];!a||
c.isArray(j)?a=c.data(b,i,c.makeArray(j)):a.push(j);return a}},dequeue:function(b,i){i=i||"fx";var j=c.queue(b,i),a=j.shift();a==="inprogress"&&(a=j.shift());a&&(i==="fx"&&j.unshift("inprogress"),a.call(b,function(){c.dequeue(b,i)}))}});c.fn.extend({queue:function(b,i){typeof b!=="string"&&(i=b,b="fx");if(i===h)return c.queue(this[0],b);return this.each(function(){var j=c.queue(this,b,i);b==="fx"&&j[0]!=="inprogress"&&c.dequeue(this,b)})},dequeue:function(b){return this.each(function(){c.dequeue(this,
b)})},delay:function(b,i){b=c.fx?c.fx.speeds[b]||b:b;i=i||"fx";return this.queue(i,function(){var j=this;setTimeout(function(){c.dequeue(j,i)},b)})},clearQueue:function(b){return this.queue(b||"fx",[])}});var ea=/[\n\t]/g,O=/\s+/,xa=/\r/g,ya=/href|src|style/,za=/(button|input)/i,Aa=/(button|input|object|select|textarea)/i,Ba=/^(a|area)$/i,fa=/radio|checkbox/;c.fn.extend({attr:function(b,i){return m(this,b,i,!0,c.attr)},removeAttr:function(b){return this.each(function(){c.attr(this,b,"");this.nodeType===
1&&this.removeAttribute(b)})},addClass:function(b){if(c.isFunction(b))return this.each(function(i){var j=c(this);j.addClass(b.call(this,i,j.attr("class")))});if(b&&typeof b==="string")for(var i=(b||"").split(O),j=0,a=this.length;j<a;j++){var f=this[j];if(f.nodeType===1)if(f.className){for(var g=" "+f.className+" ",h=f.className,d=0,e=i.length;d<e;d++)g.indexOf(" "+i[d]+" ")<0&&(h+=" "+i[d]);f.className=c.trim(h)}else f.className=b}return this},removeClass:function(b){if(c.isFunction(b))return this.each(function(i){var j=
c(this);j.removeClass(b.call(this,i,j.attr("class")))});if(b&&typeof b==="string"||b===h)for(var i=(b||"").split(O),j=0,a=this.length;j<a;j++){var f=this[j];if(f.nodeType===1&&f.className)if(b){for(var g=(" "+f.className+" ").replace(ea," "),d=0,e=i.length;d<e;d++)g=g.replace(" "+i[d]+" "," ");f.className=c.trim(g)}else f.className=""}return this},toggleClass:function(b,i){var j=typeof b,a=typeof i==="boolean";if(c.isFunction(b))return this.each(function(j){var a=c(this);a.toggleClass(b.call(this,
j,a.attr("class"),i),i)});return this.each(function(){if(j==="string")for(var f,g=0,h=c(this),d=i,e=b.split(O);f=e[g++];)d=a?d:!h.hasClass(f),h[d?"addClass":"removeClass"](f);else if(j==="undefined"||j==="boolean")this.className&&c.data(this,"__className__",this.className),this.className=this.className||b===!1?"":c.data(this,"__className__")||""})},hasClass:function(b){b=" "+b+" ";for(var c=0,j=this.length;c<j;c++)if((" "+this[c].className+" ").replace(ea," ").indexOf(b)>-1)return!0;return!1},val:function(b){if(b===
h){var i=this[0];if(i){if(c.nodeName(i,"option"))return(i.attributes.value||{}).specified?i.value:i.text;if(c.nodeName(i,"select")){var j=i.selectedIndex,a=[],f=i.options;i=i.type==="select-one";if(j<0)return null;var g=i?j:0;for(j=i?j+1:f.length;g<j;g++){var d=f[g];if(d.selected){b=c(d).val();if(i)return b;a.push(b)}}return a}if(fa.test(i.type)&&!c.support.checkOn)return i.getAttribute("value")===null?"on":i.value;return(i.value||"").replace(xa,"")}return h}var e=c.isFunction(b);return this.each(function(i){var j=
c(this),a=b;if(this.nodeType===1)if(e&&(a=b.call(this,i,j.val())),typeof a==="number"&&(a+=""),c.isArray(a)&&fa.test(this.type))this.checked=c.inArray(j.val(),a)>=0;else if(c.nodeName(this,"select")){var f=c.makeArray(a);c("option",this).each(function(){this.selected=c.inArray(c(this).val(),f)>=0});if(!f.length)this.selectedIndex=-1}else this.value=a})}});c.extend({attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(b,i,j,a){if(!b||b.nodeType===3||b.nodeType===
8)return h;if(a&&i in c.attrFn)return c(b)[i](j);a=b.nodeType!==1||!c.isXMLDoc(b);var f=j!==h;i=a&&c.props[i]||i;if(b.nodeType===1){var g=ya.test(i);if(i in b&&a&&!g){f&&(i==="type"&&za.test(b.nodeName)&&b.parentNode&&c.error("type property can't be changed"),b[i]=j);if(c.nodeName(b,"form")&&b.getAttributeNode(i))return b.getAttributeNode(i).nodeValue;if(i==="tabIndex")return(i=b.getAttributeNode("tabIndex"))&&i.specified?i.value:Aa.test(b.nodeName)||Ba.test(b.nodeName)&&b.href?0:h;return b[i]}if(!c.support.style&&
a&&i==="style"){if(f)b.style.cssText=""+j;return b.style.cssText}f&&b.setAttribute(i,""+j);b=!c.support.hrefNormalized&&a&&g?b.getAttribute(i,2):b.getAttribute(i);return b===null?h:b}return c.style(b,i,j)}});var F=/\.(.*)$/,Ca=function(b){return b.replace(/[^\w\s\.\|`]/g,function(b){return"\\"+b})};c.event={add:function(b,i,j,f){if(!(b.nodeType===3||b.nodeType===8)){b.setInterval&&b!==a&&!b.frameElement&&(b=a);var g,d;if(j.handler)g=j,j=g.handler;if(!j.guid)j.guid=c.guid++;if(d=c.data(b)){var e=d.events=
d.events||{},l=d.handle;if(!l)d.handle=l=function(){return typeof c!=="undefined"&&!c.event.triggered?c.event.handle.apply(l.elem,arguments):h};l.elem=b;i=i.split(" ");for(var k,m=0,o;k=i[m++];){d=g?c.extend({},g):{handler:j,data:f};k.indexOf(".")>-1?(o=k.split("."),k=o.shift(),d.namespace=o.slice(0).sort().join(".")):(o=[],d.namespace="");d.type=k;d.guid=j.guid;var q=e[k],s=c.event.special[k]||{};if(!q&&(q=e[k]=[],!s.setup||s.setup.call(b,f,o,l)===!1))b.addEventListener?b.addEventListener(k,l,!1):
b.attachEvent&&b.attachEvent("on"+k,l);if(s.add&&(s.add.call(b,d),!d.handler.guid))d.handler.guid=j.guid;q.push(d);c.event.global[k]=!0}b=null}}},global:{},remove:function(b,i,j,a){if(!(b.nodeType===3||b.nodeType===8)){var f,g=0,h,d,e,l,k,m,o=c.data(b),q=o&&o.events;if(o&&q){if(i&&i.type)j=i.handler,i=i.type;if(!i||typeof i==="string"&&i.charAt(0)===".")for(f in i=i||"",q)c.event.remove(b,f+i);else{for(i=i.split(" ");f=i[g++];)if(l=f,h=f.indexOf(".")<0,d=[],h||(d=f.split("."),f=d.shift(),e=RegExp("(^|\\.)"+
c.map(d.slice(0).sort(),Ca).join("\\.(?:.*\\.)?")+"(\\.|$)")),k=q[f])if(j){l=c.event.special[f]||{};for(s=a||0;s<k.length;s++)if(m=k[s],j.guid===m.guid){if(h||e.test(m.namespace))a==null&&k.splice(s--,1),l.remove&&l.remove.call(b,m);if(a!=null)break}if(k.length===0||a!=null&&k.length===1)(!l.teardown||l.teardown.call(b,d)===!1)&&ga(b,f,o.handle),delete q[f]}else for(var s=0;s<k.length;s++)if(m=k[s],h||e.test(m.namespace))c.event.remove(b,l,m.handler,s),k.splice(s--,1);if(c.isEmptyObject(q)){if(i=
o.handle)i.elem=null;delete o.events;delete o.handle;c.isEmptyObject(o)&&c.removeData(b)}}}}},trigger:function(b,i,j,a){var f=b.type||b;if(!a){b=typeof b==="object"?b[C]?b:c.extend(c.Event(f),b):c.Event(f);if(f.indexOf("!")>=0)b.type=f=f.slice(0,-1),b.exclusive=!0;j||(b.stopPropagation(),c.event.global[f]&&c.each(c.cache,function(){this.events&&this.events[f]&&c.event.trigger(b,i,this.handle.elem)}));if(!j||j.nodeType===3||j.nodeType===8)return h;b.result=h;b.target=j;i=c.makeArray(i);i.unshift(b)}b.currentTarget=
j;(a=c.data(j,"handle"))&&a.apply(j,i);a=j.parentNode||j.ownerDocument;try{if((!j||!j.nodeName||!c.noData[j.nodeName.toLowerCase()])&&j["on"+f]&&j["on"+f].apply(j,i)===!1)b.result=!1}catch(g){}if(!b.isPropagationStopped()&&a)c.event.trigger(b,i,a,!0);else if(!b.isDefaultPrevented()){a=b.target;var d,e=c.nodeName(a,"a")&&f==="click",l=c.event.special[f]||{};if((!l._default||l._default.call(j,b)===!1)&&!e&&(!a||!a.nodeName||!c.noData[a.nodeName.toLowerCase()])){try{if(a[f])(d=a["on"+f])&&(a["on"+f]=
null),c.event.triggered=!0,a[f]()}catch(k){}d&&(a["on"+f]=d);c.event.triggered=!1}}},handle:function(b){var i,j,f,g;b=arguments[0]=c.event.fix(b||a.event);b.currentTarget=this;i=b.type.indexOf(".")<0&&!b.exclusive;if(!i)j=b.type.split("."),b.type=j.shift(),f=RegExp("(^|\\.)"+j.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)");g=c.data(this,"events");j=g[b.type];if(g&&j){j=j.slice(0);g=0;for(var d=j.length;g<d;g++){var e=j[g];if(i||f.test(e.namespace)){b.handler=e.handler;b.data=e.data;b.handleObj=
e;e=e.handler.apply(this,arguments);if(e!==h)b.result=e,e===!1&&(b.preventDefault(),b.stopPropagation());if(b.isImmediatePropagationStopped())break}}}return b.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(b){if(b[C])return b;var i=b;b=c.Event(i);for(var a=this.props.length,f;a;)f=this.props[--a],b[f]=i[f];if(!b.target)b.target=b.srcElement||p;if(b.target.nodeType===3)b.target=b.target.parentNode;if(!b.relatedTarget&&b.fromElement)b.relatedTarget=b.fromElement===b.target?b.toElement:b.fromElement;if(b.pageX==null&&b.clientX!=null)i=p.documentElement,a=p.body,b.pageX=b.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),b.pageY=b.clientY+(i&&i.scrollTop||
a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0);if(!b.which&&(b.charCode||b.charCode===0?b.charCode:b.keyCode))b.which=b.charCode||b.keyCode;if(!b.metaKey&&b.ctrlKey)b.metaKey=b.ctrlKey;if(!b.which&&b.button!==h)b.which=b.button&1?1:b.button&2?3:b.button&4?2:0;return b},guid:1E8,proxy:c.proxy,special:{ready:{setup:c.bindReady,teardown:c.noop},live:{add:function(b){c.event.add(this,b.origType,c.extend({},b,{handler:t}))},remove:function(b){var i=!0,a=b.origType.replace(F,"");c.each(c.data(this,
"events").live||[],function(){if(a===this.origType.replace(F,""))return i=!1});i&&c.event.remove(this,b.origType,t)}},beforeunload:{setup:function(b,c,a){if(this.setInterval)this.onbeforeunload=a;return!1},teardown:function(b,c){if(this.onbeforeunload===c)this.onbeforeunload=null}}}};var ga=p.removeEventListener?function(b,c,a){b.removeEventListener(c,a,!1)}:function(b,c,a){b.detachEvent("on"+c,a)};c.Event=function(b){if(!this.preventDefault)return new c.Event(b);b&&b.type?(this.originalEvent=b,this.type=
b.type):this.type=b;this.timeStamp=l();this[C]=!0};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=n;var b=this.originalEvent;if(b)b.preventDefault&&b.preventDefault(),b.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=n;var b=this.originalEvent;if(b)b.stopPropagation&&b.stopPropagation(),b.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=n;this.stopPropagation()},isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k};
var ha=function(b){var i=b.relatedTarget;try{for(;i&&i!==this;)i=i.parentNode;if(i!==this)b.type=b.data,c.event.handle.apply(this,arguments)}catch(a){}},ia=function(b){b.type=b.data;c.event.handle.apply(this,arguments)};c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,i){c.event.special[b]={setup:function(a){c.event.add(this,i,a&&a.selector?ia:ha,b)},teardown:function(b){c.event.remove(this,i,b&&b.selector?ia:ha)}}});if(!c.support.submitBubbles)c.event.special.submit={setup:function(){if(this.nodeName.toLowerCase()!==
"form")c.event.add(this,"click.specialSubmit",function(b){var i=b.target,a=i.type;if((a==="submit"||a==="image")&&c(i).closest("form").length)return q("submit",this,arguments)}),c.event.add(this,"keypress.specialSubmit",function(b){var i=b.target,a=i.type;if((a==="text"||a==="password")&&c(i).closest("form").length&&b.keyCode===13)return q("submit",this,arguments)});else return!1},teardown:function(){c.event.remove(this,".specialSubmit")}};if(!c.support.changeBubbles){var P=/textarea|input|select/i,
Q,ja=function(b){var i=b.type,a=b.value;if(i==="radio"||i==="checkbox")a=b.checked;else if(i==="select-multiple")a=b.selectedIndex>-1?c.map(b.options,function(b){return b.selected}).join("-"):"";else if(b.nodeName.toLowerCase()==="select")a=b.selectedIndex;return a},R=function(b,i){var a=b.target,f,g;if(P.test(a.nodeName)&&!a.readOnly&&(f=c.data(a,"_change_data"),g=ja(a),(b.type!=="focusout"||a.type!=="radio")&&c.data(a,"_change_data",g),!(f===h||g===f)))if(f!=null||g)return b.type="change",c.event.trigger(b,
i,a)};c.event.special.change={filters:{focusout:R,click:function(b){var c=b.target,a=c.type;if(a==="radio"||a==="checkbox"||c.nodeName.toLowerCase()==="select")return R.call(this,b)},keydown:function(b){var c=b.target,a=c.type;if(b.keyCode===13&&c.nodeName.toLowerCase()!=="textarea"||b.keyCode===32&&(a==="checkbox"||a==="radio")||a==="select-multiple")return R.call(this,b)},beforeactivate:function(b){b=b.target;c.data(b,"_change_data",ja(b))}},setup:function(){if(this.type==="file")return!1;for(var b in Q)c.event.add(this,
b+".specialChange",Q[b]);return P.test(this.nodeName)},teardown:function(){c.event.remove(this,".specialChange");return P.test(this.nodeName)}};Q=c.event.special.change.filters}p.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(b,i){function a(b){b=c.event.fix(b);b.type=i;return c.event.handle.call(this,b)}c.event.special[i]={setup:function(){this.addEventListener(b,a,!0)},teardown:function(){this.removeEventListener(b,a,!0)}}});c.each(["bind","one"],function(b,i){c.fn[i]=function(b,
a,f){if(typeof b==="object"){for(var g in b)this[i](g,a,b[g],f);return this}c.isFunction(a)&&(f=a,a=h);var d=i==="one"?c.proxy(f,function(b){c(this).unbind(b,d);return f.apply(this,arguments)}):f;if(b==="unload"&&i!=="one")this.one(b,a,f);else{g=0;for(var e=this.length;g<e;g++)c.event.add(this[g],b,d,a)}return this}});c.fn.extend({unbind:function(b,i){if(typeof b==="object"&&!b.preventDefault)for(var a in b)this.unbind(a,b[a]);else{a=0;for(var f=this.length;a<f;a++)c.event.remove(this[a],b,i)}return this},
delegate:function(b,c,a,f){return this.live(c,a,f,b)},undelegate:function(b,c,a){return arguments.length===0?this.unbind("live"):this.die(c,null,a,b)},trigger:function(b,i){return this.each(function(){c.event.trigger(b,i,this)})},triggerHandler:function(b,i){if(this[0]){var a=c.Event(b);a.preventDefault();a.stopPropagation();c.event.trigger(a,i,this[0]);return a.result}},toggle:function(b){for(var a=arguments,f=1;f<a.length;)c.proxy(b,a[f++]);return this.click(c.proxy(b,function(g){var h=(c.data(this,
"lastToggle"+b.guid)||0)%f;c.data(this,"lastToggle"+b.guid,h+1);g.preventDefault();return a[h].apply(this,arguments)||!1}))},hover:function(b,c){return this.mouseenter(b).mouseleave(c||b)}});var ka={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};c.each(["live","die"],function(b,a){c.fn[a]=function(b,f,g,d){var e,l=0,k,m,o=d||this.selector,q=d?this:c(this.context);c.isFunction(f)&&(g=f,f=h);for(b=(b||"").split(" ");(e=b[l++])!=null;)d=F.exec(e),k="",d&&(k=d[0],e=e.replace(F,
"")),e==="hover"?b.push("mouseenter"+k,"mouseleave"+k):(m=e,e==="focus"||e==="blur"?(b.push(ka[e]+k),e+=k):e=(ka[e]||e)+k,a==="live"?q.each(function(){c.event.add(this,v(e,o),{data:f,selector:o,handler:g,origType:e,origHandler:g,preType:m})}):q.unbind(v(e,o),g));return this}});c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(b,a){c.fn[a]=
function(b){return b?this.bind(a,b):this.trigger(a)};c.attrFn&&(c.attrFn[a]=!0)});a.attachEvent&&!a.addEventListener&&a.attachEvent("onunload",function(){for(var b in c.cache)if(c.cache[b].handle)try{c.event.remove(c.cache[b].handle.elem)}catch(a){}});(function(){function b(c){for(var a="",i,f=0;c[f];f++)i=c[f],i.nodeType===3||i.nodeType===4?a+=i.nodeValue:i.nodeType!==8&&(a+=b(i.childNodes));return a}function a(b,c,i,f,j,g){j=0;for(var h=f.length;j<h;j++){var d=f[j];if(d){d=d[b];for(var r=!1;d;){if(d.sizcache===
i){r=f[d.sizset];break}if(d.nodeType===1&&!g)d.sizcache=i,d.sizset=j;if(d.nodeName.toLowerCase()===c){r=d;break}d=d[b]}f[j]=r}}}function f(b,c,a,i,j,g){j=0;for(var h=i.length;j<h;j++){var d=i[j];if(d){d=d[b];for(var r=!1;d;){if(d.sizcache===a){r=i[d.sizset];break}if(d.nodeType===1){if(!g)d.sizcache=a,d.sizset=j;if(typeof c!=="string"){if(d===c){r=!0;break}}else if(m.filter(c,[d]).length>0){r=d;break}}d=d[b]}i[j]=r}}}var g=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
d=0,e=Object.prototype.toString,l=!1,k=!0;[0,0].sort(function(){k=!1;return 0});var m=function(b,c,a,i){a=a||[];var f=c=c||p;if(c.nodeType!==1&&c.nodeType!==9)return[];if(!b||typeof b!=="string")return a;for(var j=[],d,h,r,l,k=!0,s=x(c),n=b;(g.exec(""),d=g.exec(n))!==null;)if(n=d[3],j.push(d[1]),d[2]){l=d[3];break}if(j.length>1&&q.exec(b))if(j.length===2&&o.relative[j[0]])h=A(j[0]+j[1],c);else for(h=o.relative[j[0]]?[c]:m(j.shift(),c);j.length;)b=j.shift(),o.relative[b]&&(b+=j.shift()),h=A(b,h);else if(!i&&
j.length>1&&c.nodeType===9&&!s&&o.match.ID.test(j[0])&&!o.match.ID.test(j[j.length-1])&&(d=m.find(j.shift(),c,s),c=d.expr?m.filter(d.expr,d.set)[0]:d.set[0]),c){d=i?{expr:j.pop(),set:t(i)}:m.find(j.pop(),j.length===1&&(j[0]==="~"||j[0]==="+")&&c.parentNode?c.parentNode:c,s);h=d.expr?m.filter(d.expr,d.set):d.set;for(j.length>0?r=t(h):k=!1;j.length;){var v=j.pop();d=v;o.relative[v]?d=j.pop():v="";d==null&&(d=c);o.relative[v](r,d,s)}}else r=[];r||(r=h);r||m.error(v||b);if(e.call(r)==="[object Array]")if(k)if(c&&
c.nodeType===1)for(b=0;r[b]!=null;b++)r[b]&&(r[b]===!0||r[b].nodeType===1&&w(c,r[b]))&&a.push(h[b]);else for(b=0;r[b]!=null;b++)r[b]&&r[b].nodeType===1&&a.push(h[b]);else a.push.apply(a,r);else t(r,a);l&&(m(l,f,a,i),m.uniqueSort(a));return a};m.uniqueSort=function(b){if(v&&(l=k,b.sort(v),l))for(var c=1;c<b.length;c++)b[c]===b[c-1]&&b.splice(c--,1);return b};m.matches=function(b,c){return m(b,null,null,c)};m.find=function(b,c,a){var i,f;if(!b)return[];for(var j=0,g=o.order.length;j<g;j++){var d=o.order[j];
if(f=o.leftMatch[d].exec(b)){var h=f[1];f.splice(1,1);if(h.substr(h.length-1)!=="\\"&&(f[1]=(f[1]||"").replace(/\\/g,""),i=o.find[d](f,c,a),i!=null)){b=b.replace(o.match[d],"");break}}}i||(i=c.getElementsByTagName("*"));return{set:i,expr:b}};m.filter=function(b,c,a,i){for(var f=b,j=[],g=c,d,r,e=c&&c[0]&&x(c[0]);b&&c.length;){for(var l in o.filter)if((d=o.leftMatch[l].exec(b))!=null&&d[2]){var z=o.filter[l],k,s;s=d[1];r=!1;d.splice(1,1);if(s.substr(s.length-1)!=="\\"){g===j&&(j=[]);if(o.preFilter[l])if(d=
o.preFilter[l](d,g,a,j,i,e)){if(d===!0)continue}else r=k=!0;if(d)for(var q=0;(s=g[q])!=null;q++)if(s){k=z(s,d,q,g);var p=i^!!k;a&&k!=null?p?r=!0:g[q]=!1:p&&(j.push(s),r=!0)}if(k!==h){a||(g=j);b=b.replace(o.match[l],"");if(!r)return[];break}}}if(b===f)if(r==null)m.error(b);else break;f=b}return g};m.error=function(b){throw"Syntax error, unrecognized expression: "+b;};var o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,
ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(b){return b.getAttribute("href")}},relative:{"+":function(b,c){var a=typeof c==="string",
i=a&&!/\W/.test(c);a=a&&!i;i&&(c=c.toLowerCase());i=0;for(var f=b.length,j;i<f;i++)if(j=b[i]){for(;(j=j.previousSibling)&&j.nodeType!==1;);b[i]=a||j&&j.nodeName.toLowerCase()===c?j||!1:j===c}a&&m.filter(c,b,!0)},">":function(b,c){var a=typeof c==="string";if(a&&!/\W/.test(c)){c=c.toLowerCase();for(var i=0,f=b.length;i<f;i++){var j=b[i];if(j)a=j.parentNode,b[i]=a.nodeName.toLowerCase()===c?a:!1}}else{i=0;for(f=b.length;i<f;i++)(j=b[i])&&(b[i]=a?j.parentNode:j.parentNode===c);a&&m.filter(c,b,!0)}},
"":function(b,c,g){var h=d++,e=f;if(typeof c==="string"&&!/\W/.test(c)){var l=c=c.toLowerCase();e=a}e("parentNode",c,h,b,l,g)},"~":function(b,c,g){var h=d++,e=f;if(typeof c==="string"&&!/\W/.test(c)){var l=c=c.toLowerCase();e=a}e("previousSibling",c,h,b,l,g)}},find:{ID:function(b,c,a){if(typeof c.getElementById!=="undefined"&&!a)return(b=c.getElementById(b[1]))?[b]:[]},NAME:function(b,c){if(typeof c.getElementsByName!=="undefined"){for(var a=[],i=c.getElementsByName(b[1]),f=0,j=i.length;f<j;f++)i[f].getAttribute("name")===
b[1]&&a.push(i[f]);return a.length===0?null:a}},TAG:function(b,c){return c.getElementsByTagName(b[1])}},preFilter:{CLASS:function(b,c,a,i,f,j){b=" "+b[1].replace(/\\/g,"")+" ";if(j)return b;j=0;for(var g;(g=c[j])!=null;j++)g&&(f^(g.className&&(" "+g.className+" ").replace(/[\t\n]/g," ").indexOf(b)>=0)?a||i.push(g):a&&(c[j]=!1));return!1},ID:function(b){return b[1].replace(/\\/g,"")},TAG:function(b){return b[1].toLowerCase()},CHILD:function(b){if(b[1]==="nth"){var c=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(b[2]===
"even"&&"2n"||b[2]==="odd"&&"2n+1"||!/\D/.test(b[2])&&"0n+"+b[2]||b[2]);b[2]=c[1]+(c[2]||1)-0;b[3]=c[3]-0}b[0]=d++;return b},ATTR:function(b,c,a,i,f,j){c=b[1].replace(/\\/g,"");!j&&o.attrMap[c]&&(b[1]=o.attrMap[c]);b[2]==="~="&&(b[4]=" "+b[4]+" ");return b},PSEUDO:function(b,c,a,i,f){if(b[1]==="not")if((g.exec(b[3])||"").length>1||/^\w/.test(b[3]))b[3]=m(b[3],null,null,c);else return b=m.filter(b[3],c,a,1^f),a||i.push.apply(i,b),!1;else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;
return b},POS:function(b){b.unshift(!0);return b}},filters:{enabled:function(b){return b.disabled===!1&&b.type!=="hidden"},disabled:function(b){return b.disabled===!0},checked:function(b){return b.checked===!0},selected:function(b){return b.selected===!0},parent:function(b){return!!b.firstChild},empty:function(b){return!b.firstChild},has:function(b,c,a){return!!m(a[3],b).length},header:function(b){return/h\d/i.test(b.nodeName)},text:function(b){return"text"===b.type},radio:function(b){return"radio"===
b.type},checkbox:function(b){return"checkbox"===b.type},file:function(b){return"file"===b.type},password:function(b){return"password"===b.type},submit:function(b){return"submit"===b.type},image:function(b){return"image"===b.type},reset:function(b){return"reset"===b.type},button:function(b){return"button"===b.type||b.nodeName.toLowerCase()==="button"},input:function(b){return/input|select|textarea|button/i.test(b.nodeName)}},setFilters:{first:function(b,c){return c===0},last:function(b,c,a,i){return c===
i.length-1},even:function(b,c){return c%2===0},odd:function(b,c){return c%2===1},lt:function(b,c,a){return c<a[3]-0},gt:function(b,c,a){return c>a[3]-0},nth:function(b,c,a){return a[3]-0===c},eq:function(b,c,a){return a[3]-0===c}},filter:{PSEUDO:function(c,a,i,f){var j=a[1],g=o.filters[j];if(g)return g(c,i,a,f);else if(j==="contains")return(c.textContent||c.innerText||b([c])||"").indexOf(a[3])>=0;else if(j==="not"){a=a[3];i=0;for(f=a.length;i<f;i++)if(a[i]===c)return!1;return!0}else m.error("Syntax error, unrecognized expression: "+
j)},CHILD:function(b,c){var a=c[1],i=b;switch(a){case "only":case "first":for(;i=i.previousSibling;)if(i.nodeType===1)return!1;if(a==="first")return!0;i=b;case "last":for(;i=i.nextSibling;)if(i.nodeType===1)return!1;return!0;case "nth":a=c[2];var f=c[3];if(a===1&&f===0)return!0;var j=c[0],g=b.parentNode;if(g&&(g.sizcache!==j||!b.nodeIndex)){var d=0;for(i=g.firstChild;i;i=i.nextSibling)if(i.nodeType===1)i.nodeIndex=++d;g.sizcache=j}i=b.nodeIndex-f;return a===0?i===0:i%a===0&&i/a>=0}},ID:function(b,
c){return b.nodeType===1&&b.getAttribute("id")===c},TAG:function(b,c){return c==="*"&&b.nodeType===1||b.nodeName.toLowerCase()===c},CLASS:function(b,c){return(" "+(b.className||b.getAttribute("class"))+" ").indexOf(c)>-1},ATTR:function(b,c){var a=c[1];a=o.attrHandle[a]?o.attrHandle[a](b):b[a]!=null?b[a]:b.getAttribute(a);var i=a+"",f=c[2],j=c[4];return a==null?f==="!=":f==="="?i===j:f==="*="?i.indexOf(j)>=0:f==="~="?(" "+i+" ").indexOf(j)>=0:!j?i&&a!==!1:f==="!="?i!==j:f==="^="?i.indexOf(j)===0:f===
"$="?i.substr(i.length-j.length)===j:f==="|="?i===j||i.substr(0,j.length+1)===j+"-":!1},POS:function(b,c,a,i){var f=o.setFilters[c[2]];if(f)return f(b,a,c,i)}}},q=o.match.POS,s;for(s in o.match)o.match[s]=RegExp(o.match[s].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[s]=RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[s].source.replace(/\\(\d+)/g,function(b,c){return"\\"+(c-0+1)}));var t=function(b,c){b=Array.prototype.slice.call(b,0);if(c)return c.push.apply(c,b),c;return b};try{Array.prototype.slice.call(p.documentElement.childNodes,
0)}catch(n){t=function(b,c){var a=c||[];if(e.call(b)==="[object Array]")Array.prototype.push.apply(a,b);else if(typeof b.length==="number")for(var i=0,f=b.length;i<f;i++)a.push(b[i]);else for(i=0;b[i];i++)a.push(b[i]);return a}}var v;p.documentElement.compareDocumentPosition?v=function(b,c){if(!b.compareDocumentPosition||!c.compareDocumentPosition)return b==c&&(l=!0),b.compareDocumentPosition?-1:1;var a=b.compareDocumentPosition(c)&4?-1:b===c?0:1;a===0&&(l=!0);return a}:"sourceIndex"in p.documentElement?
v=function(b,c){if(!b.sourceIndex||!c.sourceIndex)return b==c&&(l=!0),b.sourceIndex?-1:1;var a=b.sourceIndex-c.sourceIndex;a===0&&(l=!0);return a}:p.createRange&&(v=function(b,c){if(!b.ownerDocument||!c.ownerDocument)return b==c&&(l=!0),b.ownerDocument?-1:1;var a=b.ownerDocument.createRange(),i=c.ownerDocument.createRange();a.setStart(b,0);a.setEnd(b,0);i.setStart(c,0);i.setEnd(c,0);a=a.compareBoundaryPoints(Range.START_TO_END,i);a===0&&(l=!0);return a});(function(){var b=p.createElement("div"),c=
"script"+(new Date).getTime();b.innerHTML="<a name='"+c+"'/>";var a=p.documentElement;a.insertBefore(b,a.firstChild);if(p.getElementById(c))o.find.ID=function(b,c,a){if(typeof c.getElementById!=="undefined"&&!a)return(c=c.getElementById(b[1]))?c.id===b[1]||typeof c.getAttributeNode!=="undefined"&&c.getAttributeNode("id").nodeValue===b[1]?[c]:h:[]},o.filter.ID=function(b,c){var a=typeof b.getAttributeNode!=="undefined"&&b.getAttributeNode("id");return b.nodeType===1&&a&&a.nodeValue===c};a.removeChild(b);
a=b=null})();(function(){var b=p.createElement("div");b.appendChild(p.createComment(""));if(b.getElementsByTagName("*").length>0)o.find.TAG=function(b,c){var a=c.getElementsByTagName(b[1]);if(b[1]==="*"){for(var i=[],f=0;a[f];f++)a[f].nodeType===1&&i.push(a[f]);a=i}return a};b.innerHTML="<a href='#'></a>";if(b.firstChild&&typeof b.firstChild.getAttribute!=="undefined"&&b.firstChild.getAttribute("href")!=="#")o.attrHandle.href=function(b){return b.getAttribute("href",2)};b=null})();p.querySelectorAll&&
function(){var b=m,c=p.createElement("div");c.innerHTML="<p class='TEST'></p>";if(!(c.querySelectorAll&&c.querySelectorAll(".TEST").length===0)){m=function(c,a,i,f){a=a||p;if(!f&&a.nodeType===9&&!x(a))try{return t(a.querySelectorAll(c),i)}catch(j){}return b(c,a,i,f)};for(var a in b)m[a]=b[a];c=null}}();(function(){var b=p.createElement("div");b.innerHTML="<div class='test e'></div><div class='test'></div>";if(b.getElementsByClassName&&b.getElementsByClassName("e").length!==0&&(b.lastChild.className=
"e",b.getElementsByClassName("e").length!==1))o.order.splice(1,0,"CLASS"),o.find.CLASS=function(b,c,a){if(typeof c.getElementsByClassName!=="undefined"&&!a)return c.getElementsByClassName(b[1])},b=null})();var w=p.compareDocumentPosition?function(b,c){return!!(b.compareDocumentPosition(c)&16)}:function(b,c){return b!==c&&(b.contains?b.contains(c):!0)},x=function(b){return(b=(b?b.ownerDocument||b:0).documentElement)?b.nodeName!=="HTML":!1},A=function(b,c){for(var a=[],i="",f,j=c.nodeType?[c]:c;f=o.match.PSEUDO.exec(b);)i+=
f[0],b=b.replace(o.match.PSEUDO,"");b=o.relative[b]?b+"*":b;f=0;for(var g=j.length;f<g;f++)m(b,j[f],a);return m.filter(i,a)};c.find=m;c.expr=m.selectors;c.expr[":"]=c.expr.filters;c.unique=m.uniqueSort;c.text=b;c.isXMLDoc=x;c.contains=w})();var Da=/Until$/,Ea=/^(?:parents|prevUntil|prevAll)/,Fa=/,/;I=Array.prototype.slice;var la=function(b,a,f){if(c.isFunction(a))return c.grep(b,function(b,c){return!!a.call(b,c,b)===f});else if(a.nodeType)return c.grep(b,function(b){return b===a===f});else if(typeof a===
"string"){var g=c.grep(b,function(b){return b.nodeType===1});if(aa.test(a))return c.filter(a,g,!f);else a=c.filter(a,g)}return c.grep(b,function(b){return c.inArray(b,a)>=0===f})};c.fn.extend({find:function(b){for(var a=this.pushStack("","find",b),f=0,g=0,d=this.length;g<d;g++)if(f=a.length,c.find(b,this[g],a),g>0)for(var h=f;h<a.length;h++)for(var e=0;e<f;e++)if(a[e]===a[h]){a.splice(h--,1);break}return a},has:function(b){var a=c(b);return this.filter(function(){for(var b=0,f=a.length;b<f;b++)if(c.contains(this,
a[b]))return!0})},not:function(b){return this.pushStack(la(this,b,!1),"not",b)},filter:function(b){return this.pushStack(la(this,b,!0),"filter",b)},is:function(b){return!!b&&c.filter(b,this).length>0},closest:function(b,a){if(c.isArray(b)){var f=[],g=this[0],d,h={},e;if(g&&b.length){d=0;for(var l=b.length;d<l;d++)e=b[d],h[e]||(h[e]=c.expr.match.POS.test(e)?c(e,a||this.context):e);for(;g&&g.ownerDocument&&g!==a;){for(e in h)if(d=h[e],d.jquery?d.index(g)>-1:c(g).is(d))f.push({selector:e,elem:g}),delete h[e];
g=g.parentNode}}return f}var k=c.expr.match.POS.test(b)?c(b,a||this.context):null;return this.map(function(f,j){for(;j&&j.ownerDocument&&j!==a;){if(k?k.index(j)>-1:c(j).is(b))return j;j=j.parentNode}return null})},index:function(b){if(!b||typeof b==="string")return c.inArray(this[0],b?c(b):this.parent().children());return c.inArray(b.jquery?b[0]:b,this)},add:function(b,a){var f=typeof b==="string"?c(b,a||this.context):c.makeArray(b),g=c.merge(this.get(),f);return this.pushStack(!f[0]||!f[0].parentNode||
f[0].parentNode.nodeType===11||!g[0]||!g[0].parentNode||g[0].parentNode.nodeType===11?g:c.unique(g))},andSelf:function(){return this.add(this.prevObject)}});c.each({parent:function(b){return(b=b.parentNode)&&b.nodeType!==11?b:null},parents:function(b){return c.dir(b,"parentNode")},parentsUntil:function(b,a,f){return c.dir(b,"parentNode",f)},next:function(b){return c.nth(b,2,"nextSibling")},prev:function(b){return c.nth(b,2,"previousSibling")},nextAll:function(b){return c.dir(b,"nextSibling")},prevAll:function(b){return c.dir(b,
"previousSibling")},nextUntil:function(b,a,f){return c.dir(b,"nextSibling",f)},prevUntil:function(b,a,f){return c.dir(b,"previousSibling",f)},siblings:function(b){return c.sibling(b.parentNode.firstChild,b)},children:function(b){return c.sibling(b.firstChild)},contents:function(b){return c.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:c.makeArray(b.childNodes)}},function(b,a){c.fn[b]=function(f,g){var d=c.map(this,a,f);Da.test(b)||(g=f);g&&typeof g==="string"&&(d=c.filter(g,d));
d=this.length>1?c.unique(d):d;if((this.length>1||Fa.test(g))&&Ea.test(b))d=d.reverse();return this.pushStack(d,b,I.call(arguments).join(","))}});c.extend({filter:function(b,a,f){f&&(b=":not("+b+")");return c.find.matches(b,a)},dir:function(b,a,f){var g=[];for(b=b[a];b&&b.nodeType!==9&&(f===h||b.nodeType!==1||!c(b).is(f));)b.nodeType===1&&g.push(b),b=b[a];return g},nth:function(b,c,a){c=c||1;for(var f=0;b;b=b[a])if(b.nodeType===1&&++f===c)break;return b},sibling:function(b,c){for(var a=[];b;b=b.nextSibling)b.nodeType===
1&&b!==c&&a.push(b);return a}});var ma=/ jQuery\d+="(?:\d+|null)"/g,J=/^\s+/,na=/(<([\w:]+)[^>]*?)\/>/g,Ga=/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i,oa=/<([\w:]+)/,Ha=/<tbody/i,Ia=/<|&#?\w+;/,X=/<script|<object|<embed|<option|<style/i,Y=/checked\s*(?:[^=]|=\s*.checked.)/i,pa=function(b,c,a){return Ga.test(a)?b:c+"></"+a+">"},y={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};y.optgroup=y.option;y.tbody=y.tfoot=y.colgroup=y.caption=y.thead;y.th=y.td;if(!c.support.htmlSerialize)y._default=[1,"div<div>","</div>"];c.fn.extend({text:function(b){if(c.isFunction(b))return this.each(function(a){var f=c(this);f.text(b.call(this,a,f.text()))});if(typeof b!=="object"&&b!==h)return this.empty().append((this[0]&&this[0].ownerDocument||
p).createTextNode(b));return c.text(this)},wrapAll:function(b){if(c.isFunction(b))return this.each(function(a){c(this).wrapAll(b.call(this,a))});if(this[0]){var a=c(b,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&a.insertBefore(this[0]);a.map(function(){for(var b=this;b.firstChild&&b.firstChild.nodeType===1;)b=b.firstChild;return b}).append(this)}return this},wrapInner:function(b){if(c.isFunction(b))return this.each(function(a){c(this).wrapInner(b.call(this,a))});return this.each(function(){var a=
c(this),f=a.contents();f.length?f.wrapAll(b):a.append(b)})},wrap:function(b){return this.each(function(){c(this).wrapAll(b)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||c(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(b){this.nodeType===1&&this.appendChild(b)})},prepend:function(){return this.domManip(arguments,!0,function(b){this.nodeType===1&&this.insertBefore(b,this.firstChild)})},before:function(){if(this[0]&&
this[0].parentNode)return this.domManip(arguments,!1,function(b){this.parentNode.insertBefore(b,this)});else if(arguments.length){var b=c(arguments[0]);b.push.apply(b,this.toArray());return this.pushStack(b,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(b){this.parentNode.insertBefore(b,this.nextSibling)});else if(arguments.length){var b=this.pushStack(this,"after",arguments);b.push.apply(b,c(arguments[0]).toArray());return b}},remove:function(b,
a){for(var f=0,g;(g=this[f])!=null;f++)if(!b||c.filter(b,[g]).length)!a&&g.nodeType===1&&(c.cleanData(g.getElementsByTagName("*")),c.cleanData([g])),g.parentNode&&g.parentNode.removeChild(g);return this},empty:function(){for(var b=0,a;(a=this[b])!=null;b++)for(a.nodeType===1&&c.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(b){var a=this.map(function(){if(!c.support.noCloneEvent&&!c.isXMLDoc(this)){var b=this.outerHTML,a=this.ownerDocument;
if(!b)b=a.createElement("div"),b.appendChild(this.cloneNode(!0)),b=b.innerHTML;return c.clean([b.replace(ma,"").replace(/=([^="'>\s]+\/)>/g,'="$1">').replace(J,"")],a)[0]}else return this.cloneNode(!0)});b===!0&&(w(this,a),w(this.find("*"),a.find("*")));return a},html:function(b){if(b===h)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(ma,""):null;else if(typeof b==="string"&&!X.test(b)&&(c.support.leadingWhitespace||!J.test(b))&&!y[(oa.exec(b)||["",""])[1].toLowerCase()]){b=b.replace(na,
pa);try{for(var a=0,f=this.length;a<f;a++)if(this[a].nodeType===1)c.cleanData(this[a].getElementsByTagName("*")),this[a].innerHTML=b}catch(g){this.empty().append(b)}}else c.isFunction(b)?this.each(function(a){var f=c(this),i=f.html();f.empty().append(function(){return b.call(this,a,i)})}):this.empty().append(b);return this},replaceWith:function(b){if(this[0]&&this[0].parentNode){if(c.isFunction(b))return this.each(function(a){var f=c(this),g=f.html();f.replaceWith(b.call(this,a,g))});typeof b!=="string"&&
(b=c(b).detach());return this.each(function(){var a=this.nextSibling,f=this.parentNode;c(this).remove();a?c(a).before(b):c(f).append(b)})}else return this.pushStack(c(c.isFunction(b)?b():b),"replaceWith",b)},detach:function(b){return this.remove(b,!0)},domManip:function(b,a,f){var g,e,l=b[0],k=[],m;if(!c.support.checkClone&&arguments.length===3&&typeof l==="string"&&Y.test(l))return this.each(function(){c(this).domManip(b,a,f,!0)});if(c.isFunction(l))return this.each(function(g){var d=c(this);b[0]=
l.call(this,g,a?d.html():h);d.domManip(b,a,f)});if(this[0]){g=l&&l.parentNode;g=c.support.parentNode&&g&&g.nodeType===11&&g.childNodes.length===this.length?{fragment:g}:o(b,this,k);m=g.fragment;if(e=m.childNodes.length===1?m=m.firstChild:m.firstChild){a=a&&c.nodeName(e,"tr");e=0;for(var s=this.length;e<s;e++)f.call(a?c.nodeName(this[e],"table")?this[e].getElementsByTagName("tbody")[0]||this[e].appendChild(this[e].ownerDocument.createElement("tbody")):this[e]:this[e],e>0||g.cacheable||this.length>
1?m.cloneNode(!0):m)}k.length&&c.each(k,d)}return this}});c.fragments={};c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,a){c.fn[b]=function(f){var g=[];f=c(f);var d=this.length===1&&this[0].parentNode;if(d&&d.nodeType===11&&d.childNodes.length===1&&f.length===1)return f[a](this[0]),this;else{d=0;for(var h=f.length;d<h;d++){var e=(d>0?this.clone(!0):this).get();c.fn[a].apply(c(f[d]),e);g=g.concat(e)}return this.pushStack(g,
b,f.selector)}}});c.extend({clean:function(b,a,f,g){a=a||p;typeof a.createElement==="undefined"&&(a=a.ownerDocument||a[0]&&a[0].ownerDocument||p);for(var d=[],h=0,e;(e=b[h])!=null;h++)if(typeof e==="number"&&(e+=""),e){if(typeof e==="string"&&!Ia.test(e))e=a.createTextNode(e);else if(typeof e==="string"){e=e.replace(na,pa);var l=(oa.exec(e)||["",""])[1].toLowerCase(),k=y[l]||y._default,m=k[0],o=a.createElement("div");for(o.innerHTML=k[1]+e+k[2];m--;)o=o.lastChild;if(!c.support.tbody){m=Ha.test(e);
l=l==="table"&&!m?o.firstChild&&o.firstChild.childNodes:k[1]==="<table>"&&!m?o.childNodes:[];for(k=l.length-1;k>=0;--k)c.nodeName(l[k],"tbody")&&!l[k].childNodes.length&&l[k].parentNode.removeChild(l[k])}!c.support.leadingWhitespace&&J.test(e)&&o.insertBefore(a.createTextNode(J.exec(e)[0]),o.firstChild);e=o.childNodes}e.nodeType?d.push(e):d=c.merge(d,e)}if(f)for(h=0;d[h];h++)g&&c.nodeName(d[h],"script")&&(!d[h].type||d[h].type.toLowerCase()==="text/javascript")?g.push(d[h].parentNode?d[h].parentNode.removeChild(d[h]):
d[h]):(d[h].nodeType===1&&d.splice.apply(d,[h+1,0].concat(c.makeArray(d[h].getElementsByTagName("script")))),f.appendChild(d[h]));return d},cleanData:function(b){for(var a,f,g=c.cache,d=c.event.special,h=c.support.deleteExpando,e=0,l;(l=b[e])!=null;e++)if(f=l[c.expando]){a=g[f];if(a.events)for(var k in a.events)d[k]?c.event.remove(l,k):ga(l,k,a.handle);h?delete l[c.expando]:l.removeAttribute&&l.removeAttribute(c.expando);delete g[f]}}});var Ja=/z-?index|font-?weight|opacity|zoom|line-?height/i,qa=
/alpha\([^)]*\)/,ra=/opacity=([^)]*)/,S=/float/i,T=/-([a-z])/ig,Ka=/([A-Z])/g,La=/^-?\d+(?:px)?$/i,Ma=/^-?\d/,Na={position:"absolute",visibility:"hidden",display:"block"},Oa=["Left","Right"],Pa=["Top","Bottom"],Qa=p.defaultView&&p.defaultView.getComputedStyle,sa=c.support.cssFloat?"cssFloat":"styleFloat",U=function(b,c){return c.toUpperCase()};c.fn.css=function(b,a){return m(this,b,a,!0,function(b,a,f){if(f===h)return c.curCSS(b,a);typeof f==="number"&&!Ja.test(a)&&(f+="px");c.style(b,a,f)})};c.extend({style:function(b,
a,f){if(!b||b.nodeType===3||b.nodeType===8)return h;if((a==="width"||a==="height")&&parseFloat(f)<0)f=h;var g=b.style||b,d=f!==h;if(!c.support.opacity&&a==="opacity"){if(d)g.zoom=1,a=parseInt(f,10)+""==="NaN"?"":"alpha(opacity="+f*100+")",b=g.filter||c.curCSS(b,"filter")||"",g.filter=qa.test(b)?b.replace(qa,a):a;return g.filter&&g.filter.indexOf("opacity=")>=0?parseFloat(ra.exec(g.filter)[1])/100+"":""}S.test(a)&&(a=sa);a=a.replace(T,U);d&&(g[a]=f);return g[a]},css:function(b,a,f,g){if(a==="width"||
a==="height"){var d,h=a==="width"?Oa:Pa;f=function(){d=a==="width"?b.offsetWidth:b.offsetHeight;g!=="border"&&c.each(h,function(){g||(d-=parseFloat(c.curCSS(b,"padding"+this,!0))||0);g==="margin"?d+=parseFloat(c.curCSS(b,"margin"+this,!0))||0:d-=parseFloat(c.curCSS(b,"border"+this+"Width",!0))||0})};b.offsetWidth!==0?f():c.swap(b,Na,f);return Math.max(0,Math.round(d))}return c.curCSS(b,a,f)},curCSS:function(b,a,f){var g,d=b.style;if(!c.support.opacity&&a==="opacity"&&b.currentStyle)return g=ra.test(b.currentStyle.filter||
"")?parseFloat(RegExp.$1)/100+"":"",g===""?"1":g;S.test(a)&&(a=sa);if(!f&&d&&d[a])g=d[a];else if(Qa){S.test(a)&&(a="float");a=a.replace(Ka,"-$1").toLowerCase();d=b.ownerDocument.defaultView;if(!d)return null;(b=d.getComputedStyle(b,null))&&(g=b.getPropertyValue(a));a==="opacity"&&g===""&&(g="1")}else if(b.currentStyle&&(f=a.replace(T,U),g=b.currentStyle[a]||b.currentStyle[f],!La.test(g)&&Ma.test(g))){a=d.left;var h=b.runtimeStyle.left;b.runtimeStyle.left=b.currentStyle.left;d.left=f==="fontSize"?
"1em":g||0;g=d.pixelLeft+"px";d.left=a;b.runtimeStyle.left=h}return g},swap:function(b,c,a){var f={},g;for(g in c)f[g]=b.style[g],b.style[g]=c[g];a.call(b);for(g in c)b.style[g]=f[g]}});if(c.expr&&c.expr.filters)c.expr.filters.hidden=function(b){var a=b.offsetWidth,f=b.offsetHeight,g=b.nodeName.toLowerCase()==="tr";return a===0&&f===0&&!g?!0:a>0&&f>0&&!g?!1:c.curCSS(b,"display")==="none"},c.expr.filters.visible=function(b){return!c.expr.filters.hidden(b)};var Ra=l(),Sa=/<script(.|\s)*?\/script>/gi,
Ta=/select|textarea/i,Ua=/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i,E=/=\?(&|$)/,V=/\?/,Va=/(\?|&)_=.*?(&|$)/,Wa=/^(\w+:)?\/\/([^\/?#]+)/,Xa=/%20/g,Ya=c.fn.load;c.fn.extend({load:function(b,a,f){if(typeof b!=="string")return Ya.call(this,b);else if(!this.length)return this;var g=b.indexOf(" ");if(g>=0){var d=b.slice(g,b.length);b=b.slice(0,g)}g="GET";a&&(c.isFunction(a)?(f=a,a=null):typeof a==="object"&&(a=c.param(a,c.ajaxSettings.traditional),g=
"POST"));var h=this;c.ajax({url:b,type:g,dataType:"html",data:a,complete:function(b,a){if(a==="success"||a==="notmodified")h.html(d?c("<div />").append(b.responseText.replace(Sa,"")).find(d):b.responseText);f&&h.each(f,[b.responseText,a,b])}});return this},serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Ta.test(this.nodeName)||
Ua.test(this.type))}).map(function(b,a){var f=c(this).val();return f==null?null:c.isArray(f)?c.map(f,function(b){return{name:a.name,value:b}}):{name:a.name,value:f}}).get()}});c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,a){c.fn[a]=function(b){return this.bind(a,b)}});c.extend({get:function(b,a,f,g){c.isFunction(a)&&(g=g||f,f=a,a=null);return c.ajax({type:"GET",url:b,data:a,success:f,dataType:g})},getScript:function(b,a){return c.get(b,null,a,"script")},
getJSON:function(b,a,f){return c.get(b,a,f,"json")},post:function(b,a,f,g){c.isFunction(a)&&(g=g||f,f=a,a={});return c.ajax({type:"POST",url:b,data:a,success:f,dataType:g})},ajaxSetup:function(b){c.extend(c.ajaxSettings,b)},ajaxSettings:{url:location.href,global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,xhr:a.XMLHttpRequest&&(a.location.protocol!=="file:"||!a.ActiveXObject)?function(){return new a.XMLHttpRequest}:function(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}},
accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(b){function f(){e.success&&e.success.call(s,o,m,u);e.global&&d("ajaxSuccess",[u,e])}function g(){e.complete&&e.complete.call(s,u,m);e.global&&d("ajaxComplete",[u,e]);e.global&&!--c.active&&c.event.trigger("ajaxStop")}function d(b,a){(e.context?c(e.context):c.event).trigger(b,a)}var e=
c.extend(!0,{},c.ajaxSettings,b),k,m,o,s=b&&b.context||e,q=e.type.toUpperCase();if(e.data&&e.processData&&typeof e.data!=="string")e.data=c.param(e.data,e.traditional);if(e.dataType==="jsonp"){if(q==="GET")E.test(e.url)||(e.url+=(V.test(e.url)?"&":"?")+(e.jsonp||"callback")+"=?");else if(!e.data||!E.test(e.data))e.data=(e.data?e.data+"&":"")+(e.jsonp||"callback")+"=?";e.dataType="json"}if(e.dataType==="json"&&(e.data&&E.test(e.data)||E.test(e.url))){k=e.jsonpCallback||"jsonp"+Ra++;if(e.data)e.data=
(e.data+"").replace(E,"="+k+"$1");e.url=e.url.replace(E,"="+k+"$1");e.dataType="script";a[k]=a[k]||function(b){o=b;f();g();a[k]=h;try{delete a[k]}catch(c){}n&&n.removeChild(w)}}if(e.dataType==="script"&&e.cache===null)e.cache=!1;if(e.cache===!1&&q==="GET"){var t=l(),v=e.url.replace(Va,"$1_="+t+"$2");e.url=v+(v===e.url?(V.test(e.url)?"&":"?")+"_="+t:"")}e.data&&q==="GET"&&(e.url+=(V.test(e.url)?"&":"?")+e.data);e.global&&!c.active++&&c.event.trigger("ajaxStart");t=(t=Wa.exec(e.url))&&(t[1]&&t[1]!==
location.protocol||t[2]!==location.host);if(e.dataType==="script"&&q==="GET"&&t){var n=p.getElementsByTagName("head")[0]||p.documentElement,w=p.createElement("script");w.src=e.url;if(e.scriptCharset)w.charset=e.scriptCharset;if(!k){var x=!1;w.onload=w.onreadystatechange=function(){if(!x&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"))x=!0,f(),g(),w.onload=w.onreadystatechange=null,n&&w.parentNode&&n.removeChild(w)}}n.insertBefore(w,n.firstChild);return h}var A=!1,u=e.xhr();
if(u){e.username?u.open(q,e.url,e.async,e.username,e.password):u.open(q,e.url,e.async);try{(e.data||b&&b.contentType)&&u.setRequestHeader("Content-Type",e.contentType),e.ifModified&&(c.lastModified[e.url]&&u.setRequestHeader("If-Modified-Since",c.lastModified[e.url]),c.etag[e.url]&&u.setRequestHeader("If-None-Match",c.etag[e.url])),t||u.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.setRequestHeader("Accept",e.dataType&&e.accepts[e.dataType]?e.accepts[e.dataType]+", */*":e.accepts._default)}catch(aa){}if(e.beforeSend&&
e.beforeSend.call(s,u,e)===!1)return e.global&&!--c.active&&c.event.trigger("ajaxStop"),u.abort(),!1;e.global&&d("ajaxSend",[u,e]);var G=u.onreadystatechange=function(b){if(!u||u.readyState===0||b==="abort"){if(A||g(),A=!0,u)u.onreadystatechange=c.noop}else if(!A&&u&&(u.readyState===4||b==="timeout")){A=!0;u.onreadystatechange=c.noop;m=b==="timeout"?"timeout":!c.httpSuccess(u)?"error":e.ifModified&&c.httpNotModified(u,e.url)?"notmodified":"success";var a;if(m==="success")try{o=c.httpData(u,e.dataType,
e)}catch(d){m="parsererror",a=d}m==="success"||m==="notmodified"?k||f():c.handleError(e,u,m,a);g();b==="timeout"&&u.abort();e.async&&(u=null)}};try{var D=u.abort;u.abort=function(){u&&D.call(u);G("abort")}}catch(y){}e.async&&e.timeout>0&&setTimeout(function(){u&&!A&&G("timeout")},e.timeout);try{u.send(q==="POST"||q==="PUT"||q==="DELETE"?e.data:null)}catch(B){c.handleError(e,u,null,B),g()}e.async||G();return u}},handleError:function(b,a,f,g){b.error&&b.error.call(b.context||b,a,f,g);b.global&&(b.context?
c(b.context):c.event).trigger("ajaxError",[a,b,g])},active:0,httpSuccess:function(b){try{return!b.status&&location.protocol==="file:"||b.status>=200&&b.status<300||b.status===304||b.status===1223||b.status===0}catch(c){}return!1},httpNotModified:function(b,a){var f=b.getResponseHeader("Last-Modified"),g=b.getResponseHeader("Etag");f&&(c.lastModified[a]=f);g&&(c.etag[a]=g);return b.status===304||b.status===0},httpData:function(b,a,f){var g=b.getResponseHeader("content-type")||"",d=a==="xml"||!a&&g.indexOf("xml")>=
0;b=d?b.responseXML:b.responseText;d&&b.documentElement.nodeName==="parsererror"&&c.error("parsererror");f&&f.dataFilter&&(b=f.dataFilter(b,a));typeof b==="string"&&(a==="json"||!a&&g.indexOf("json")>=0?b=c.parseJSON(b):(a==="script"||!a&&g.indexOf("javascript")>=0)&&c.globalEval(b));return b},param:function(b,a){function f(b,d){c.isArray(d)?c.each(d,function(d,e){a||/\[\]$/.test(b)?g(b,e):f(b+"["+(typeof e==="object"||c.isArray(e)?d:"")+"]",e)}):!a&&d!=null&&typeof d==="object"?c.each(d,function(c,
a){f(b+"["+c+"]",a)}):g(b,d)}function g(b,a){a=c.isFunction(a)?a():a;d[d.length]=encodeURIComponent(b)+"="+encodeURIComponent(a)}var d=[];if(a===h)a=c.ajaxSettings.traditional;if(c.isArray(b)||b.jquery)c.each(b,function(){g(this.name,this.value)});else for(var e in b)f(e,b[e]);return d.join("&").replace(Xa,"+")}});var W={},Za=/toggle|show|hide/,$a=/^([+-]=)?([\d+-.]+)(.*)$/,K,Z=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],
["opacity"]];c.fn.extend({show:function(b,a){if(b||b===0)return this.animate(f("show",3),b,a);else{for(var g=0,d=this.length;g<d;g++){var e=c.data(this[g],"olddisplay");this[g].style.display=e||"";if(c.css(this[g],"display")==="none"){e=this[g].nodeName;var h;if(W[e])h=W[e];else{var l=c("<"+e+" />").appendTo("body");h=l.css("display");h==="none"&&(h="block");l.remove();W[e]=h}c.data(this[g],"olddisplay",h)}}g=0;for(d=this.length;g<d;g++)this[g].style.display=c.data(this[g],"olddisplay")||"";return this}},
hide:function(b,a){if(b||b===0)return this.animate(f("hide",3),b,a);else{for(var g=0,d=this.length;g<d;g++){var e=c.data(this[g],"olddisplay");!e&&e!=="none"&&c.data(this[g],"olddisplay",c.css(this[g],"display"))}g=0;for(d=this.length;g<d;g++)this[g].style.display="none";return this}},_toggle:c.fn.toggle,toggle:function(b,a){var g=typeof b==="boolean";c.isFunction(b)&&c.isFunction(a)?this._toggle.apply(this,arguments):b==null||g?this.each(function(){var a=g?b:c(this).is(":hidden");c(this)[a?"show":
"hide"]()}):this.animate(f("toggle",3),b,a);return this},fadeTo:function(b,c,a){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:c},b,a)},animate:function(b,a,f,g){var d=c.speed(a,f,g);if(c.isEmptyObject(b))return this.each(d.complete);return this[d.queue===!1?"each":"queue"](function(){var a=c.extend({},d),f,g=this.nodeType===1&&c(this).is(":hidden"),i=this;for(f in b){var e=f.replace(T,U);f!==e&&(b[e]=b[f],delete b[f],f=e);if(b[f]==="hide"&&g||b[f]==="show"&&!g)return a.complete.call(this);
if((f==="height"||f==="width")&&this.style)a.display=c.css(this,"display"),a.overflow=this.style.overflow;if(c.isArray(b[f]))(a.specialEasing=a.specialEasing||{})[f]=b[f][1],b[f]=b[f][0]}if(a.overflow!=null)this.style.overflow="hidden";a.curAnim=c.extend({},b);c.each(b,function(f,d){var e=new c.fx(i,a,f);if(Za.test(d))e[d==="toggle"?g?"show":"hide":d](b);else{var h=$a.exec(d),j=e.cur(!0)||0;if(h){var l=parseFloat(h[2]),k=h[3]||"px";k!=="px"&&(i.style[f]=(l||1)+k,j*=(l||1)/e.cur(!0),i.style[f]=j+k);
h[1]&&(l=(h[1]==="-="?-1:1)*l+j);e.custom(j,l,k)}else e.custom(j,d,"")}});return!0})},stop:function(b,a){var f=c.timers;b&&this.queue([]);this.each(function(){for(var b=f.length-1;b>=0;b--)if(f[b].elem===this){if(a)f[b](!0);f.splice(b,1)}});a||this.dequeue();return this}});c.each({slideDown:f("show",1),slideUp:f("hide",1),slideToggle:f("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(b,a){c.fn[b]=function(b,c){return this.animate(a,b,c)}});c.extend({speed:function(b,a,f){var g=
b&&typeof b==="object"?b:{complete:f||!f&&a||c.isFunction(b)&&b,duration:b,easing:f&&a||a&&!c.isFunction(a)&&a};g.duration=c.fx.off?0:typeof g.duration==="number"?g.duration:c.fx.speeds[g.duration]||c.fx.speeds._default;g.old=g.complete;g.complete=function(){g.queue!==!1&&c(this).dequeue();c.isFunction(g.old)&&g.old.call(this)};return g},easing:{linear:function(b,a,c,f){return c+f*b},swing:function(b,a,c,f){return(-Math.cos(b*Math.PI)/2+0.5)*f+c}},timers:[],fx:function(b,a,c){this.options=a;this.elem=
b;this.prop=c;if(!a.orig)a.orig={}}});c.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(c.fx.step[this.prop]||c.fx.step._default)(this);if((this.prop==="height"||this.prop==="width")&&this.elem.style)this.elem.style.display="block"},cur:function(b){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];return(b=parseFloat(c.css(this.elem,this.prop,b)))&&b>-1E4?b:parseFloat(c.curCSS(this.elem,
this.prop))||0},custom:function(b,a,f){function g(b){return d.step(b)}this.startTime=l();this.start=b;this.end=a;this.unit=f||this.unit||"px";this.now=this.start;this.pos=this.state=0;var d=this;g.elem=this.elem;g()&&c.timers.push(g)&&!K&&(K=setInterval(c.fx.tick,13))},show:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.show=!0;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());c(this.elem).show()},hide:function(){this.options.orig[this.prop]=
c.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(b){var a=l(),f=!0;if(b||a>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=!0;for(var g in this.options.curAnim)this.options.curAnim[g]!==!0&&(f=!1);if(f){if(this.options.display!=null&&(this.elem.style.overflow=this.options.overflow,b=c.data(this.elem,"olddisplay"),this.elem.style.display=b?b:this.options.display,c.css(this.elem,"display")===
"none"))this.elem.style.display="block";this.options.hide&&c(this.elem).hide();if(this.options.hide||this.options.show)for(var d in this.options.curAnim)c.style(this.elem,d,this.options.orig[d]);this.options.complete.call(this.elem)}return!1}else d=a-this.startTime,this.state=d/this.options.duration,b=this.options.easing||(c.easing.swing?"swing":"linear"),this.pos=c.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||b](this.state,d,0,1,this.options.duration),this.now=this.start+
(this.end-this.start)*this.pos,this.update();return!0}};c.extend(c.fx,{tick:function(){for(var b=c.timers,a=0;a<b.length;a++)b[a]()||b.splice(a--,1);b.length||c.fx.stop()},stop:function(){clearInterval(K);K=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(b){c.style(b.elem,"opacity",b.now)},_default:function(b){b.elem.style&&b.elem.style[b.prop]!=null?b.elem.style[b.prop]=(b.prop==="width"||b.prop==="height"?Math.max(0,b.now):b.now)+b.unit:b.elem[b.prop]=b.now}}});if(c.expr&&c.expr.filters)c.expr.filters.animated=
function(b){return c.grep(c.timers,function(a){return b===a.elem}).length};c.fn.offset="getBoundingClientRect"in p.documentElement?function(b){var a=this[0];if(b)return this.each(function(a){c.offset.setOffset(this,b,a)});if(!a||!a.ownerDocument)return null;if(a===a.ownerDocument.body)return c.offset.bodyOffset(a);var f=a.getBoundingClientRect(),g=a.ownerDocument;a=g.body;g=g.documentElement;return{top:f.top+(self.pageYOffset||c.support.boxModel&&g.scrollTop||a.scrollTop)-(g.clientTop||a.clientTop||
0),left:f.left+(self.pageXOffset||c.support.boxModel&&g.scrollLeft||a.scrollLeft)-(g.clientLeft||a.clientLeft||0)}}:function(b){var a=this[0];if(b)return this.each(function(a){c.offset.setOffset(this,b,a)});if(!a||!a.ownerDocument)return null;if(a===a.ownerDocument.body)return c.offset.bodyOffset(a);c.offset.initialize();var f=a.offsetParent,g=a.ownerDocument,d,e=g.documentElement,h=g.body;d=(g=g.defaultView)?g.getComputedStyle(a,null):a.currentStyle;for(var l=a.offsetTop,k=a.offsetLeft;(a=a.parentNode)&&
a!==h&&a!==e;){if(c.offset.supportsFixedPosition&&d.position==="fixed")break;d=g?g.getComputedStyle(a,null):a.currentStyle;l-=a.scrollTop;k-=a.scrollLeft;if(a===f){l+=a.offsetTop;k+=a.offsetLeft;if(c.offset.doesNotAddBorder&&(!c.offset.doesAddBorderForTableAndCells||!/^t(able|d|h)$/i.test(a.nodeName)))l+=parseFloat(d.borderTopWidth)||0,k+=parseFloat(d.borderLeftWidth)||0;f=a.offsetParent}c.offset.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"&&(l+=parseFloat(d.borderTopWidth)||0,k+=
parseFloat(d.borderLeftWidth)||0)}if(d.position==="relative"||d.position==="static")l+=h.offsetTop,k+=h.offsetLeft;c.offset.supportsFixedPosition&&d.position==="fixed"&&(l+=Math.max(e.scrollTop,h.scrollTop),k+=Math.max(e.scrollLeft,h.scrollLeft));return{top:l,left:k}};c.offset={initialize:function(){var b=p.body,a=p.createElement("div"),f,g,d,e=parseFloat(c.curCSS(b,"marginTop",!0))||0;c.extend(a.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});
a.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";b.insertBefore(a,b.firstChild);f=a.firstChild;g=f.firstChild;d=f.nextSibling.firstChild.firstChild;this.doesNotAddBorder=g.offsetTop!==5;this.doesAddBorderForTableAndCells=d.offsetTop===5;g.style.position=
"fixed";g.style.top="20px";this.supportsFixedPosition=g.offsetTop===20||g.offsetTop===15;g.style.position=g.style.top="";f.style.overflow="hidden";f.style.position="relative";this.subtractsBorderForOverflowNotVisible=g.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=b.offsetTop!==e;b.removeChild(a);c.offset.initialize=c.noop},bodyOffset:function(b){var a=b.offsetTop,f=b.offsetLeft;c.offset.initialize();c.offset.doesNotIncludeMarginInBodyOffset&&(a+=parseFloat(c.curCSS(b,"marginTop",!0))||0,f+=
parseFloat(c.curCSS(b,"marginLeft",!0))||0);return{top:a,left:f}},setOffset:function(b,a,f){if(/static/.test(c.curCSS(b,"position")))b.style.position="relative";var g=c(b),d=g.offset(),e=parseInt(c.curCSS(b,"top",!0),10)||0,h=parseInt(c.curCSS(b,"left",!0),10)||0;c.isFunction(a)&&(a=a.call(b,f,d));f={top:a.top-d.top+e,left:a.left-d.left+h};"using"in a?a.using.call(b,f):g.css(f)}};c.fn.extend({position:function(){if(!this[0])return null;var b=this[0],a=this.offsetParent(),f=this.offset(),g=/^body|html$/i.test(a[0].nodeName)?
{top:0,left:0}:a.offset();f.top-=parseFloat(c.curCSS(b,"marginTop",!0))||0;f.left-=parseFloat(c.curCSS(b,"marginLeft",!0))||0;g.top+=parseFloat(c.curCSS(a[0],"borderTopWidth",!0))||0;g.left+=parseFloat(c.curCSS(a[0],"borderLeftWidth",!0))||0;return{top:f.top-g.top,left:f.left-g.left}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent||p.body;b&&!/^body|html$/i.test(b.nodeName)&&c.css(b,"position")==="static";)b=b.offsetParent;return b})}});c.each(["Left","Top"],function(b,
a){var f="scroll"+a;c.fn[f]=function(a){var d=this[0],e;if(!d)return null;return a!==h?this.each(function(){(e=g(this))?e.scrollTo(!b?a:c(e).scrollLeft(),b?a:c(e).scrollTop()):this[f]=a}):(e=g(d))?"pageXOffset"in e?e[b?"pageYOffset":"pageXOffset"]:c.support.boxModel&&e.document.documentElement[f]||e.document.body[f]:d[f]}});c.each(["Height","Width"],function(b,a){var f=a.toLowerCase();c.fn["inner"+a]=function(){return this[0]?c.css(this[0],f,!1,"padding"):null};c.fn["outer"+a]=function(b){return this[0]?
c.css(this[0],f,!1,b?"margin":"border"):null};c.fn[f]=function(b){var g=this[0];if(!g)return b==null?null:this;if(c.isFunction(b))return this.each(function(a){var g=c(this);g[f](b.call(this,a,g[f]()))});return"scrollTo"in g&&g.document?g.document.compatMode==="CSS1Compat"&&g.document.documentElement["client"+a]||g.document.body["client"+a]:g.nodeType===9?Math.max(g.documentElement["client"+a],g.body["scroll"+a],g.documentElement["scroll"+a],g.body["offset"+a],g.documentElement["offset"+a]):b===h?
c.css(g,f):this.css(f,typeof b==="string"?b:b+"px")}});a.jQuery=a.$=c})(window);
(function(a){function h(a){var d=a.split("/");if(d[0]=="_design")return d.shift(),"_design/"+encodeURIComponent(d.join("/"));return encodeURIComponent(a)}function e(d,e){if(typeof hex_sha1=="undefined")alert("creating a user doc requires sha1.js to be loaded in the page");else{d._id=d._id||"org.couchdb.user:"+d.name;if(e)d.salt=a.couch.newUUID(),d.password_sha=hex_sha1(e+d.salt);d.type="user";if(!d.roles)d.roles=[];return d}}function d(d,e,h,l){e=a.extend({successStatus:200},e);l=a.extend({contentType:"application/json"},
l);h=h||"Unknown error";a.ajax(a.extend(a.extend({type:"GET",dataType:"json",cache:!a.browser.msie,beforeSend:function(a){if(l&&l.headers)for(var f in l.headers)a.setRequestHeader(f,l.headers[f])},complete:function(d){try{var f=a.httpData(d,"json")}catch(g){e.error?e.error(d.status,d,g):alert(h+": "+g);return}e.ajaxStart&&e.ajaxStart(f);d.status==e.successStatus?(e.beforeSuccess&&e.beforeSuccess(d,f),e.success&&e.success(f)):e.error?e.error(d.status,f&&f.error||h,f&&f.reason||"no response"):alert(h+
": "+f.reason)}},d),l))}function m(a){a=a||{};if(typeof a.ensure_full_commit!=="undefined"){var d=a.ensure_full_commit;delete a.ensure_full_commit;return function(a){a.setRequestHeader("X-Couch-Full-Commit",d.toString())}}}function l(d){var e=[];if(typeof d==="object"&&d!==null)for(var h in d)if(!(a.inArray(h,["error","success","beforeSuccess","ajaxStart"])>=0)){var l=d[h];a.inArray(h,["key","startkey","endkey"])>=0&&(l=k(l));e.push(encodeURIComponent(h)+"="+encodeURIComponent(l))}return e.length?
"?"+e.join("&"):""}function k(a){return a!==null?JSON.stringify(a):null}a.couch=a.couch||{};var n=[];a.extend(a.couch,{urlPrefix:"",activeTasks:function(a){d({url:this.urlPrefix+"/_active_tasks"},a,"Active task status could not be retrieved")},allDbs:function(a){d({url:this.urlPrefix+"/_all_dbs"},a,"An error occurred retrieving the list of all databases")},config:function(a,e,h,l){var m={url:this.urlPrefix+"/_config/"};e&&(m.url+=encodeURIComponent(e)+"/",h&&(m.url+=encodeURIComponent(h)));if(l===
null)m.type="DELETE";else if(l!==void 0)m.type="PUT",m.data=k(l),m.contentType="application/json",m.processData=!1;d(m,a,"An error occurred retrieving/updating the server configuration")},session:function(d){d=d||{};a.ajax({type:"GET",url:this.urlPrefix+"/_session",complete:function(e){var h=a.httpData(e,"json");e.status==200?d.success&&d.success(h):d.error?d.error(e.status,h.error,h.reason):alert("An error occurred getting session info: "+h.reason)}})},userDb:function(d){a.couch.session({success:function(e){e=
a.couch.db(e.info.authentication_db);d(e)}})},signup:function(d,h,l){l=l||{};d=e(d,h);a.couch.userDb(function(a){a.saveDoc(d,l)})},login:function(d){d=d||{};a.ajax({type:"POST",url:this.urlPrefix+"/_session",dataType:"json",data:{name:d.name,password:d.password},complete:function(e){var h=a.httpData(e,"json");e.status==200?d.success&&d.success(h):d.error?d.error(e.status,h.error,h.reason):alert("An error occurred logging in: "+h.reason)}})},logout:function(d){d=d||{};a.ajax({type:"DELETE",url:this.urlPrefix+
"/_session",dataType:"json",username:"_",password:"_",complete:function(e){var h=a.httpData(e,"json");e.status==200?d.success&&d.success(h):d.error?d.error(e.status,h.error,h.reason):alert("An error occurred logging out: "+h.reason)}})},db:function(e,n){function v(a){if(a._id&&a._rev&&w[a._id]&&w[a._id].rev==a._rev)return typeof Base64=="undefined"?(alert("please include /_utils/script/base64.js in the page for base64 support"),!1):(a._attachments=a._attachments||{},a._attachments["rev-"+a._rev.split("-")[0]]=
{content_type:"application/json",data:Base64.encode(w[a._id].raw)},!0)}n=n||{};var w={};return{name:e,uri:this.urlPrefix+"/"+encodeURIComponent(e)+"/",compact:function(e){a.extend(e,{successStatus:202});d({type:"POST",url:this.uri+"_compact",data:"",processData:!1},e,"The database could not be compacted")},viewCleanup:function(e){a.extend(e,{successStatus:202});d({type:"POST",url:this.uri+"_view_cleanup",data:"",processData:!1},e,"The views could not be cleaned up")},compactView:function(e,f){a.extend(f,
{successStatus:202});d({type:"POST",url:this.uri+"_compact/"+e,data:"",processData:!1},f,"The view could not be compacted")},create:function(e){a.extend(e,{successStatus:201});d({type:"PUT",url:this.uri,contentType:"application/json",data:"",processData:!1},e,"The database could not be created")},drop:function(a){d({type:"DELETE",url:this.uri},a,"The database could not be deleted")},info:function(a){d({url:this.uri},a,"Database information could not be retrieved")},changes:function(e,f){function g(c){a.each(n,
function(){this(c)})}function c(){var c=a.extend({heartbeat:1E4},f,{feed:"longpoll",since:e});d({url:k.uri+"_changes"+l(c)},f,"Error connecting to "+k.uri+"/_changes.")}f=f||{};var h=100,k=this,m=!0,n=[];f.success=function(a){h=100;if(m)e=a.last_seq,g(a),c()};f.error=function(){m&&(setTimeout(c,h),h*=2)};e?c():k.info({success:function(a){e=a.update_seq;c()}});return{onChange:function(a){n.push(a)},stop:function(){m=!1}}},allDocs:function(a){var f="GET",g=null;if(a.keys)f="POST",g=a.keys,delete a.keys,
g=k({keys:g});d({type:f,data:g,url:this.uri+"_all_docs"+l(a)},a,"An error occurred retrieving a list of all documents")},allDesignDocs:function(d){this.allDocs(a.extend({startkey:"_design",endkey:"_design0"},d))},allApps:function(d){d=d||{};var f=this;d.eachApp?this.allDesignDocs({success:function(g){a.each(g.rows,function(){f.openDoc(this.id,{success:function(a){var f,g,h=a._id.split("/");h.shift();h=h.join("/");(f=a.couchapp&&a.couchapp.index)?g=["",e,a._id,f].join("/"):a._attachments&&a._attachments["index.html"]&&
(g=["",e,a._id,"index.html"].join("/"));g&&d.eachApp(h,g,a)}})})}}):alert("Please provide an eachApp function for allApps()")},openDoc:function(e,f,g){f=f||{};n.attachPrevRev||f.attachPrevRev?a.extend(f,{beforeSuccess:function(a,f){w[f._id]={rev:f._rev,raw:a.responseText}}}):a.extend(f,{beforeSuccess:function(a,f){f["jquery.couch.attachPrevRev"]&&(w[f._id]={rev:f._rev,raw:a.responseText})}});d({url:this.uri+h(e)+l(f)},f,"The document could not be retrieved",g)},saveDoc:function(d,f){f=f||{};var g=
this,c=m(f);if(d._id===void 0)var e="POST",n=this.uri;else e="PUT",n=this.uri+h(d._id);var p=v(d);a.ajax({type:e,url:n+l(f),contentType:"application/json",dataType:"json",data:k(d),beforeSend:c,complete:function(c){var e=a.httpData(c,"json");c.status==200||c.status==201||c.status==202?(d._id=e.id,d._rev=e.rev,p?g.openDoc(d._id,{attachPrevRev:!0,success:function(a){d._attachments=a._attachments;f.success&&f.success(e)}}):f.success&&f.success(e)):f.error?f.error(c.status,e.error,e.reason):alert("The document could not be saved: "+
e.reason)}})},bulkSave:function(e,f){var g=m(f);a.extend(f,{successStatus:201,beforeSend:g});d({type:"POST",url:this.uri+"_bulk_docs"+l(f),contentType:"application/json",data:k(e)},f,"The documents could not be saved")},removeDoc:function(a,f){d({type:"DELETE",url:this.uri+h(a._id)+l({rev:a._rev})},f,"The document could not be deleted")},bulkRemove:function(e,f){e.docs=a.each(e.docs,function(a,c){c._deleted=!0});a.extend(f,{successStatus:201});d({type:"POST",url:this.uri+"_bulk_docs"+l(f),data:k(e)},
f,"The documents could not be deleted")},copyDoc:function(e,f,g){g=a.extend(g,{complete:function(c){var g=a.httpData(c,"json");c.status==201?f.success&&f.success(g):f.error?f.error(c.status,g.error,g.reason):alert("The document could not be copied: "+g.reason)}});d({type:"COPY",url:this.uri+h(e)},f,"The document could not be copied",g)},query:function(a,f,g,c){g=g||"javascript";typeof a!=="string"&&(a=a.toSource?a.toSource():"("+a.toString()+")");a={language:g,map:a};if(f!=null)typeof f!=="string"&&
(f=f.toSource?f.toSource():"("+f.toString()+")"),a.reduce=f;d({type:"POST",url:this.uri+"_temp_view"+l(c),contentType:"application/json",data:k(a)},c,"An error occurred querying the database")},list:function(a,f,g){a=a.split("/");g=g||{};var c="GET",e=null;if(g.keys)c="POST",e=g.keys,delete g.keys,e=k({keys:e});d({type:c,data:e,url:this.uri+"_design/"+a[0]+"/_list/"+a[1]+"/"+f+l(g)},g,"An error occured accessing the list")},view:function(a,f){a=a.split("/");f=f||{};var g="GET",c=null;if(f.keys)g=
"POST",c=f.keys,delete f.keys,c=k({keys:c});d({type:g,data:c,url:this.uri+"_design/"+a[0]+"/_view/"+a[1]+l(f)},f,"An error occurred accessing the view")},getDbProperty:function(a,f,g){d({url:this.uri+a+l(f)},f,"The property could not be retrieved",g)},setDbProperty:function(a,f,g,c){d({type:"PUT",url:this.uri+a+l(g),data:JSON.stringify(f)},g,"The property could not be updated",c)}}},encodeDocId:h,info:function(a){d({url:this.urlPrefix+"/"},a,"Server information could not be retrieved")},replicate:function(e,
h,l,k){k=a.extend({source:e,target:h},k);if(k.continuous)l.successStatus=202;d({type:"POST",url:this.urlPrefix+"/_replicate",data:JSON.stringify(k),contentType:"application/json"},l,"Replication failed")},newUUID:function(a){a===void 0&&(a=1);n.length||d({url:this.urlPrefix+"/_uuids",data:{count:a},async:!1},{success:function(a){n=a.uuids}},"Failed to retrieve UUID batch.");return n.shift()}})})(jQuery);
(function(a){function h(d){var h;if(d&&d.constructor==Array&&d.length==3)return d;if(h=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(d))return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])];if(h=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(d))return[parseFloat(h[1])*2.55,parseFloat(h[2])*2.55,parseFloat(h[3])*2.55];if(h=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(d))return[parseInt(h[1],16),parseInt(h[2],
16),parseInt(h[3],16)];if(h=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(d))return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)];if(/rgba\(0, 0, 0, 0\)/.exec(d))return e.transparent;return e[a.trim(d).toLowerCase()]}a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(d,e){a.fx.step[e]=function(d){if(!d.colorInit){var k;k=d.elem;var n=e,q;do{q=a.curCSS(k,n);if(q!=""&&q!="transparent"||a.nodeName(k,
"body"))break;n="backgroundColor"}while(k=k.parentNode);k=h(q);d.start=k;d.end=h(d.end);d.colorInit=!0}d.elem.style[e]="rgb("+[Math.max(Math.min(parseInt(d.pos*(d.end[0]-d.start[0])+d.start[0]),255),0),Math.max(Math.min(parseInt(d.pos*(d.end[1]-d.start[1])+d.start[1]),255),0),Math.max(Math.min(parseInt(d.pos*(d.end[2]-d.start[2])+d.start[2]),255),0)].join(",")+")"}});var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,
0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,
255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]}})(jQuery);
(function(a){function h(e){if(typeof e.data==="string"){var d=e.handler,h=e.data.toLowerCase().split(" ");e.handler=function(e){if(!(this!==e.target&&(/textarea|select/i.test(e.target.nodeName)||e.target.type==="text"))){var k=e.type!=="keypress"&&a.hotkeys.specialKeys[e.which],n=String.fromCharCode(e.which).toLowerCase(),q="",t={};e.altKey&&k!=="alt"&&(q+="alt+");e.ctrlKey&&k!=="ctrl"&&(q+="ctrl+");e.metaKey&&!e.ctrlKey&&k!=="meta"&&(q+="meta+");e.shiftKey&&k!=="shift"&&(q+="shift+");k?t[q+k]=!0:
(t[q+n]=!0,t[q+a.hotkeys.shiftNums[n]]=!0,q==="shift+"&&(t[a.hotkeys.shiftNums[n]]=!0));k=0;for(n=h.length;k<n;k++)if(t[h[k]])return d.apply(this,arguments)}}}}a.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",
109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}};a.each(["keydown","keyup","keypress"],function(){a.event.special[this]={add:h}})})(jQuery);
(function(a,h){var e,d=/:([\w\d]+)/g,m=/\?([^#]*)$/,l=function(a){return Array.prototype.slice.call(a)},k=function(a){return Object.prototype.toString.call(a)==="[object Function]"},n=function(a){return Object.prototype.toString.call(a)==="[object Array]"},q=decodeURIComponent,t=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},v=function(a){return function(g,c){return this.route.apply(this,[a,g,c])}},w={},o=[];e=function(){var f=l(arguments),g,c;e.apps=e.apps||
{};if(f.length===0||f[0]&&k(f[0]))return e.apply(e,["body"].concat(f));else if(typeof(c=f.shift())=="string")return g=e.apps[c]||new e.Application,g.element_selector=c,f.length>0&&a.each(f,function(a,c){g.use(c)}),g.element_selector!=c&&delete e.apps[c],e.apps[g.element_selector]=g};e.VERSION="0.6.1";e.addLogger=function(a){o.push(a)};e.log=function(){var f=l(arguments);f.unshift("["+Date()+"]");a.each(o,function(a,c){c.apply(e,f)})};typeof h.console!="undefined"?k(console.log.apply)?e.addLogger(function(){h.console.log.apply(console,
arguments)}):e.addLogger(function(){h.console.log(arguments)}):typeof console!="undefined"&&e.addLogger(function(){console.log.apply(console,arguments)});a.extend(e,{makeArray:l,isFunction:k,isArray:n});e.Object=function(f){return a.extend(this,f||{})};a.extend(e.Object.prototype,{escapeHTML:t,h:t,toHash:function(){var f={};a.each(this,function(a,c){k(c)||(f[a]=c)});return f},toHTML:function(){var f="";a.each(this,function(a,c){k(c)||(f+="<strong>"+a+"</strong> "+c+"<br />")});return f},keys:function(a){var g=
[],c;for(c in this)(!k(this[c])||!a)&&g.push(c);return g},has:function(f){return this[f]&&a.trim(this[f].toString())!=""},join:function(){var a=l(arguments),g=a.shift();return a.join(g)},log:function(){e.log.apply(e,arguments)},toString:function(f){var g=[];a.each(this,function(a,d){(!k(d)||f)&&g.push('"'+a+'": '+d.toString())});return"Sammy.Object: {"+g.join(",")+"}"}});e.HashLocationProxy=function(a,g){this.app=a;this.is_native=!1;this._startPolling(g)};e.HashLocationProxy.prototype={bind:function(){var f=
this,g=this.app;a(h).bind("hashchange."+this.app.eventNamespace(),function(a,d){if(f.is_native===!1&&!d)e.log("native hash change exists, using"),f.is_native=!0,h.clearInterval(e.HashLocationProxy._interval);g.trigger("location-changed")});if(!e.HashLocationProxy._bindings)e.HashLocationProxy._bindings=0;e.HashLocationProxy._bindings++},unbind:function(){a(h).unbind("hashchange."+this.app.eventNamespace());e.HashLocationProxy._bindings--;e.HashLocationProxy._bindings<=0&&h.clearInterval(e.HashLocationProxy._interval)},
getLocation:function(){var a=h.location.toString().match(/^[^#]*(#.+)$/);return a?a[1]:""},setLocation:function(a){return h.location=a},_startPolling:function(f){var g=this;if(!e.HashLocationProxy._interval){f||(f=10);var c=function(){var c=g.getLocation();(!e.HashLocationProxy._last_location||c!=e.HashLocationProxy._last_location)&&h.setTimeout(function(){a(h).trigger("hashchange",[!0])},13);e.HashLocationProxy._last_location=c};c();e.HashLocationProxy._interval=h.setInterval(c,f)}}};e.Application=
function(a){var g=this;this.routes={};this.listeners=new e.Object({});this.arounds=[];this.befores=[];this.namespace=(new Date).getTime()+"-"+parseInt(Math.random()*1E3,10);this.context_prototype=function(){e.EventContext.apply(this,arguments)};this.context_prototype.prototype=new e.EventContext;k(a)&&a.apply(this,[this]);this._location_proxy||this.setLocationProxy(new e.HashLocationProxy(this,this.run_interval_every));this.debug&&this.bindToAllEvents(function(a,f){g.log(g.toString(),a.cleaned_type,
f||{})})};e.Application.prototype=a.extend({},e.Object.prototype,{ROUTE_VERBS:["get","post","put","delete"],APP_EVENTS:["run","unload","lookup-route","run-route","route-found","event-context-before","event-context-after","changed","error","check-form-submission","redirect"],_last_route:null,_location_proxy:null,_running:!1,element_selector:"body",debug:!1,raise_errors:!1,run_interval_every:50,template_engine:null,toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(){return a(this.element_selector)},
use:function(){var a=l(arguments),g=a.shift(),c=g||"";try{a.unshift(this),typeof g=="string"&&(c="Sammy."+g,g=e[g]),g.apply(this,a)}catch(d){typeof g==="undefined"?this.error("Plugin Error: called use() but plugin ("+c.toString()+") is not defined",d):k(g)?this.error("Plugin Error",d):this.error("Plugin Error: called use() but '"+c.toString()+"' is not a function",d)}return this},setLocationProxy:function(a){var g=this._location_proxy;this._location_proxy=a;this.isRunning()&&(g&&g.unbind(),this._location_proxy.bind())},
route:function(f,g,c){var e=this,h=[],l,m;!c&&k(g)&&(c=g=f,f="any");f=f.toLowerCase();if(g.constructor==String){for(d.lastIndex=0;(m=d.exec(g))!==null;)h.push(m[1]);g=RegExp("^"+g.replace(d,"([^/]+)")+"$")}typeof c=="string"&&(c=e[c]);l=function(a){var f={verb:a,path:g,callback:c,param_names:h};e.routes[a]=e.routes[a]||[];e.routes[a].push(f)};f==="any"?a.each(this.ROUTE_VERBS,function(a,c){l(c)}):l(f);return this},get:v("get"),post:v("post"),put:v("put"),del:v("delete"),any:v("any"),mapRoutes:function(f){var g=
this;a.each(f,function(a,f){g.route.apply(g,f)});return this},eventNamespace:function(){return["sammy-app",this.namespace].join("-")},bind:function(a,g,c){var d=this;typeof c=="undefined"&&(c=g);g=function(a,f){var g;f&&f.context?(g=f.context,delete f.context):g=new d.context_prototype(d,"bind",a.type,f,a.target);a.cleaned_type=a.type.replace(d.eventNamespace(),"");c.apply(g,[a,f])};this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(g);this.isRunning()&&this._listen(a,g);return this},
trigger:function(a,g){this.$element().trigger([a,this.eventNamespace()].join("."),[g]);return this},refresh:function(){this.last_location=null;this.trigger("location-changed");return this},before:function(a,g){k(a)&&(g=a,a={});this.befores.push([a,g]);return this},after:function(a){return this.bind("event-context-after",a)},around:function(a){this.arounds.push(a);return this},isRunning:function(){return this._running},helpers:function(f){a.extend(this.context_prototype.prototype,f);return this},helper:function(a,
g){this.context_prototype.prototype[a]=g;return this},run:function(f){if(this.isRunning())return!1;var g=this;a.each(this.listeners.toHash(),function(c,f){a.each(f,function(a,f){g._listen(c,f)})});this.trigger("run",{start_url:f});this._running=!0;this.last_location=null;this.getLocation()==""&&typeof f!="undefined"&&this.setLocation(f);this._checkLocation();this._location_proxy.bind();this.bind("location-changed",function(){g._checkLocation()});this.bind("submit",function(c){return g._checkFormSubmission(a(c.target).closest("form"))===
!1?c.preventDefault():!1});a(h).bind("beforeunload",function(){g.unload()});return this.trigger("changed")},unload:function(){if(!this.isRunning())return!1;var f=this;this.trigger("unload");this._location_proxy.unbind();this.$element().unbind("submit").removeClass(f.eventNamespace());a.each(this.listeners.toHash(),function(g,c){a.each(c,function(a,c){f._unlisten(g,c)})});this._running=!1;return this},bindToAllEvents:function(f){var g=this;a.each(this.APP_EVENTS,function(a,d){g.bind(d,f)});a.each(this.listeners.keys(!0),
function(a,d){g.APP_EVENTS.indexOf(d)==-1&&g.bind(d,f)});return this},routablePath:function(a){return a.replace(m,"")},lookupRoute:function(f,g){var c=this,d=!1;this.trigger("lookup-route",{verb:f,path:g});typeof this.routes[f]!="undefined"&&a.each(this.routes[f],function(a,f){if(c.routablePath(g).match(f.path))return d=f,!1});return d},runRoute:function(f,g,c,d){var e=this,h=this.lookupRoute(f,g),l,k,m,n,o,w,v;this.log("runRoute",[f,g].join(" "));this.trigger("run-route",{verb:f,path:g,params:c});
typeof c=="undefined"&&(c={});a.extend(c,this._parseQueryString(g));if(h){this.trigger("route-found",{route:h});if((w=h.path.exec(this.routablePath(g)))!==null)w.shift(),a.each(w,function(a,f){if(h.param_names[a])c[h.param_names[a]]=q(f);else{if(!c.splat)c.splat=[];c.splat.push(q(f))}});l=new this.context_prototype(this,f,g,c,d);d=this.arounds.slice(0);m=this.befores.slice(0);o=[l].concat(c.splat);k=function(){for(var a;m.length>0;)if(n=m.shift(),e.contextMatchesOptions(l,n[0])&&(a=n[1].apply(l,[l]),
a===!1))return!1;e.last_route=h;l.trigger("event-context-before",{context:l});a=h.callback.apply(l,o);l.trigger("event-context-after",{context:l});return a};a.each(d.reverse(),function(a,c){var f=k;k=function(){return c.apply(l,[f])}});try{v=k()}catch(t){this.error(["500 Error",f,g].join(" "),t)}return v}else return this.notFound(f,g)},contextMatchesOptions:function(a,g,c){if(typeof g==="undefined"||g=={})return!0;typeof c==="undefined"&&(c=!0);if(typeof g==="string"||k(g.test))g={path:g};if(g.only)return this.contextMatchesOptions(a,
g.only,!0);else if(g.except)return this.contextMatchesOptions(a,g.except,!1);var d=!0,e=!0;g.path&&(d=k(g.path.test)?g.path.test(a.path):g.path.toString()===a.path);g.verb&&(e=g.verb===a.verb);return c?e&&d:!(e&&d)},getLocation:function(){return this._location_proxy.getLocation()},setLocation:function(a){return this._location_proxy.setLocation(a)},swap:function(a){return this.$element().html(a)},templateCache:function(a,g){return typeof g!="undefined"?w[a]=g:w[a]},clearTemplateCache:function(){return w=
{}},notFound:function(a,g){var c=this.error(["404 Not Found",a,g].join(" "));return a==="get"?c:!0},error:function(a,g){g||(g=Error());g.message=[a,g.message].join(" ");this.trigger("error",{message:g.message,error:g});if(this.raise_errors)throw g;else this.log(g.message,g)},_checkLocation:function(){var a,g;a=this.getLocation();if(a!=this.last_location)this.last_location=a,g=this.runRoute("get",a);return g},_getFormVerb:function(f){f=a(f);var g,c;c=f.find('input[name="_method"]');c.length>0&&(g=
c.val());g||(g=f[0].getAttribute("method"));return a.trim(g.toString().toLowerCase())},_checkFormSubmission:function(f){var g,c,d;this.trigger("check-form-submission",{form:f});g=a(f);c=g.attr("action");d=this._getFormVerb(g);if(!d||d=="")d="get";this.log("_checkFormSubmission",g,c,d);d==="get"?(this.setLocation(c+"?"+g.serialize()),f=!1):(g=a.extend({},this._parseFormParams(g)),f=this.runRoute(d,c,g,f.get(0)));return typeof f=="undefined"?!1:f},_parseFormParams:function(a){var g={};a=a.serializeArray();
var c;for(c=0;c<a.length;c++)g=this._parseParamPair(g,a[c].name,a[c].value);return g},_parseQueryString:function(a){var g={},c,d;if(a=a.match(m)){a=a[1].split("&");for(d=0;d<a.length;d++)c=a[d].split("="),g=this._parseParamPair(g,q(c[0]),q(c[1]))}return g},_parseParamPair:function(a,g,c){a[g]?n(a[g])?a[g].push(c):a[g]=[a[g],c]:a[g]=c;return a},_listen:function(a,g){return this.$element().bind([a,this.eventNamespace()].join("."),g)},_unlisten:function(a,g){return this.$element().unbind([a,this.eventNamespace()].join("."),
g)}});e.RenderContext=function(a){this.event_context=a;this.callbacks=[];this.content=this.previous_content=null;this.waiting=this.next_engine=!1};a.extend(e.RenderContext.prototype,{then:function(a){if(!k(a))if(typeof a==="string"&&a in this.event_context){var g=this.event_context[a];a=function(a){return g.apply(this.event_context,[a])}}else return this;var c=this;this.waiting?this.callbacks.push(a):(this.wait(),setTimeout(function(){var g=a.apply(c,[c.content,c.previous_content]);g!==!1&&c.next(g)},
13));return this},wait:function(){this.waiting=!0},next:function(a){this.waiting=!1;if(typeof a!=="undefined")this.previous_content=this.content,this.content=a;this.callbacks.length>0&&this.then(this.callbacks.shift())},load:function(f,g,c){var d=this;return this.then(function(){var e,h,l;k(g)?(c=g,g={}):g=a.extend({},g);c&&this.then(c);if(typeof f==="string"){e=(l=f.match(/\.json$/)||g.json)&&g.cache===!0||g.cache!==!1;d.next_engine=d.event_context.engineFor(f);delete g.cache;delete g.json;if(g.engine)d.next_engine=
g.engine,delete g.engine;if(e&&(h=this.event_context.app.templateCache(f)))return h;this.wait();a.ajax(a.extend({url:f,data:{},dataType:l?"json":null,type:"get",success:function(a){e&&d.event_context.app.templateCache(f,a);d.next(a)}},g));return!1}else{if(f.nodeType)return f.innerHTML;if(f.selector)return d.next_engine=f.attr("data-engine"),g.clone===!1?f.remove()[0].innerHTML.toString():f[0].innerHTML.toString()}})},render:function(a,g,c){if(k(a)&&!g)return this.then(a);else{if(!g&&this.content)g=
this.content;return this.load(a).interpolate(g,a).then(c)}},partial:function(a,g){return this.render(a,g).swap()},send:function(){var a=this,g=l(arguments),c=g.shift();n(g[0])&&(g=g[0]);return this.then(function(){g.push(function(c){a.next(c)});a.wait();c.apply(c,g);return!1})},collect:function(f,g,c){var d=this,e=function(){if(k(f))g=f,f=this.content;var c=[],e=!1;a.each(f,function(a,f){var h=g.apply(d,[a,f]);h.jquery&&h.length==1&&(h=h[0],e=!0);c.push(h);return h});return e?c:c.join("")};return c?
e():this.then(e)},renderEach:function(f,g,c,d){n(g)&&(d=c,c=g,g=null);return this.load(f).then(function(e){var h=this;c||(c=n(this.previous_content)?this.previous_content:[]);if(d)a.each(c,function(a,c){var l={},k=this.next_engine||f;g?l[g]=c:l=c;d(c,h.event_context.interpolate(e,l,k))});else return this.collect(c,function(a,c){var d={},h=this.next_engine||f;g?d[g]=c:d=c;return this.event_context.interpolate(e,d,h)},!0)})},interpolate:function(a,d,c){var e=this;return this.then(function(h,l){!a&&
l&&(a=l);if(this.next_engine)d=this.next_engine,this.next_engine=!1;var k=e.event_context.interpolate(h,a,d);return c?l+k:k})},swap:function(){return this.then(function(a){this.event_context.swap(a)}).trigger("changed",{})},appendTo:function(f){return this.then(function(d){a(f).append(d)}).trigger("changed",{})},prependTo:function(f){return this.then(function(d){a(f).prepend(d)}).trigger("changed",{})},replace:function(f){return this.then(function(d){a(f).html(d)}).trigger("changed",{})},trigger:function(a,
d){return this.then(function(c){typeof d=="undefined"&&(d={content:c});this.event_context.trigger(a,d)})}});e.EventContext=function(a,d,c,h,l){this.app=a;this.verb=d;this.path=c;this.params=new e.Object(h);this.target=l};e.EventContext.prototype=a.extend({},e.Object.prototype,{$element:function(){return this.app.$element()},engineFor:function(a){var d;if(k(a))return a;a=a.toString();if(d=a.match(/\.([^\.]+)$/))a=d[1];if(a&&k(this[a]))return this[a];if(this.app.template_engine)return this.engineFor(this.app.template_engine);
return function(a){return a}},interpolate:function(a,d,c){return this.engineFor(c).apply(this,[a,d])},render:function(a,d,c){return(new e.RenderContext(this)).render(a,d,c)},renderEach:function(a,d,c,h){return(new e.RenderContext(this)).renderEach(a,d,c,h)},load:function(a,d,c){return(new e.RenderContext(this)).load(a,d,c)},partial:function(a,d){return(new e.RenderContext(this)).partial(a,d)},send:function(){var a=new e.RenderContext(this);return a.send.apply(a,arguments)},redirect:function(){var a;
a=l(arguments);var d=this.app.getLocation();a.length>1?(a.unshift("/"),a=this.join.apply(this,a)):a=a[0];this.trigger("redirect",{to:a});this.app.last_location=this.path;this.app.setLocation(a);d==a&&this.app.trigger("location-changed")},trigger:function(a,d){typeof d=="undefined"&&(d={});if(!d.context)d.context=this;return this.app.trigger(a,d)},eventNamespace:function(){return this.app.eventNamespace()},swap:function(a){return this.app.swap(a)},notFound:function(){return this.app.notFound(this.verb,
this.path)},json:function(d){return a.parseJSON(d)},toString:function(){return"Sammy.EventContext: "+[this.verb,this.path,this.params].join(" ")}});a.sammy=h.Sammy=e})(jQuery,window);
(function(){if(!window.JSON)window.JSON={};(function(){function a(a){return a<10?"0"+a:a}function h(a){m.lastIndex=0;return m.test(a)?'"'+a.replace(m,function(a){var d=n[a];return typeof d==="string"?d:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function e(a,d){var m,n,f,g,c=l,s,x=d[a];x&&typeof x==="object"&&typeof x.toJSON==="function"&&(x=x.toJSON(a));typeof q==="function"&&(x=q.call(d,a,x));switch(typeof x){case "string":return h(x);case "number":return isFinite(x)?String(x):
"null";case "boolean":case "null":return String(x);case "object":if(!x)return"null";l+=k;s=[];if(Object.prototype.toString.apply(x)==="[object Array]"){g=x.length;for(m=0;m<g;m+=1)s[m]=e(m,x)||"null";f=s.length===0?"[]":l?"[\n"+l+s.join(",\n"+l)+"\n"+c+"]":"["+s.join(",")+"]";l=c;return f}if(q&&typeof q==="object"){g=q.length;for(m=0;m<g;m+=1)n=q[m],typeof n==="string"&&(f=e(n,x))&&s.push(h(n)+(l?": ":":")+f)}else for(n in x)Object.hasOwnProperty.call(x,n)&&(f=e(n,x))&&s.push(h(n)+(l?": ":":")+f);
f=s.length===0?"{}":l?"{\n"+l+s.join(",\n"+l)+"\n"+c+"}":"{"+s.join(",")+"}";l=c;return f}}if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z"},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
m=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l,k,n={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},q;if(typeof JSON.stringify!=="function")JSON.stringify=function(a,d,h){var m;k=l="";if(typeof h==="number")for(m=0;m<h;m+=1)k+=" ";else typeof h==="string"&&(k=h);if((q=d)&&typeof d!=="function"&&(typeof d!=="object"||typeof d.length!=="number"))throw Error("JSON.stringify");return e("",
{"":a})};if(typeof JSON.parse!=="function")JSON.parse=function(a,e){function h(a,d){var c,l,k=a[d];if(k&&typeof k==="object")for(c in k)Object.hasOwnProperty.call(k,c)&&(l=h(k,c),l!==void 0?k[c]=l:delete k[c]);return e.call(a,d,k)}var l;d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return l=eval("("+a+")"),typeof e==="function"?h({"":l},""):l;throw new SyntaxError("JSON.parse");}})();Sammy=Sammy||{};Sammy.JSON=function(a){a.helpers({json:function(a){return typeof a=="string"?JSON.parse(a):JSON.stringify(a)}})}})(jQuery);
(function(a){Sammy=Sammy||{};Sammy.Store=function(h){var e=this;this.options=h||{};this.name=this.options.name||"store";this.element=this.options.element||"body";this.$element=a(this.element);a.isArray(this.options.type)?a.each(this.options.type,function(a,h){if(Sammy.Store.isAvailable(h))return e.type=h,!1}):this.type=this.options.type||"memory";this.meta_key=this.options.meta_key||"__keys__";this.storage=new Sammy.Store[Sammy.Store.stores[this.type]](this.name,this.element,this.options)};Sammy.Store.stores=
{memory:"Memory",data:"Data",local:"LocalStorage",session:"SessionStorage",cookie:"Cookie"};a.extend(Sammy.Store.prototype,{isAvailable:function(){if(a.isFunction(this.storage.isAvailable))return this.storage.isAvailable()},exists:function(a){return this.storage.exists(a)},set:function(a,e){var d=typeof e=="string"?e:JSON.stringify(e);a=a.toString();this.storage.set(a,d);a!=this.meta_key&&(this._addKey(a),this.$element.trigger("set-"+this.name,{key:a,value:e}),this.$element.trigger("set-"+this.name+
"-"+a,{key:a,value:e}));return e},get:function(a){a=this.storage.get(a);if(typeof a=="undefined"||a==null||a=="")return a;try{return JSON.parse(a)}catch(e){return a}},clear:function(a){this._removeKey(a);return this.storage.clear(a)},clearAll:function(){var a=this;this.each(function(e){a.clear(e)})},keys:function(){return this.get(this.meta_key)||[]},each:function(a){for(var e=0,d=this.keys(),m;e<d.length;e++)if(m=a(d[e],this.get(d[e])),m===!1)return!1},filter:function(a){var e=[];this.each(function(d,
m){a(d,m)&&e.push([d,m]);return!0});return e},first:function(a){var e=!1;this.each(function(d,m){if(a(d,m))return e=[d,m],!1});return e},fetch:function(a,e){return this.exists(a)?this.get(a):this.set(a,e.apply(this))},load:function(h,e,d){var m=this;a.get(e,function(a){m.set(h,a);d&&d.apply(this,[a])})},_addKey:function(h){var e=this.keys();a.inArray(h,e)==-1&&e.push(h);this.set(this.meta_key,e)},_removeKey:function(h){var e=this.keys();h=a.inArray(h,e);h!=-1&&e.splice(h,1);this.set(this.meta_key,
e)}});Sammy.Store.isAvailable=function(a){try{return Sammy.Store[Sammy.Store.stores[a]].prototype.isAvailable()}catch(e){return!1}};Sammy.Store.Memory=function(a,e){this.name=a;this.element=e;this.namespace=[this.element,this.name].join(".");Sammy.Store.Memory.store=Sammy.Store.Memory.store||{};Sammy.Store.Memory.store[this.namespace]=Sammy.Store.Memory.store[this.namespace]||{};this.store=Sammy.Store.Memory.store[this.namespace]};a.extend(Sammy.Store.Memory.prototype,{isAvailable:function(){return!0},
exists:function(a){return typeof this.store[a]!="undefined"},set:function(a,e){return this.store[a]=e},get:function(a){return this.store[a]},clear:function(a){delete this.store[a]}});Sammy.Store.Data=function(h,e){this.name=h;this.element=e;this.$element=a(e)};a.extend(Sammy.Store.Data.prototype,{isAvailable:function(){return!0},exists:function(a){return!!this.$element.data(this._key(a))},set:function(a,e){return this.$element.data(this._key(a),e)},get:function(a){return this.$element.data(this._key(a))},
clear:function(a){this.$element.removeData(this._key(a))},_key:function(a){return["store",this.name,a].join(".")}});Sammy.Store.LocalStorage=function(a,e){this.name=a;this.element=e};a.extend(Sammy.Store.LocalStorage.prototype,{isAvailable:function(){return"localStorage"in window&&window.location.protocol!="file:"},exists:function(a){return this.get(a)!=null},set:function(a,e){return window.localStorage.setItem(this._key(a),e)},get:function(a){return window.localStorage.getItem(this._key(a))},clear:function(a){window.localStorage.removeItem(this._key(a))},
_key:function(a){return["store",this.element,this.name,a].join(".")}});Sammy.Store.SessionStorage=function(a,e){this.name=a;this.element=e};a.extend(Sammy.Store.SessionStorage.prototype,{isAvailable:function(){return"sessionStorage"in window&&window.location.protocol!="file:"&&a.isFunction(window.sessionStorage.setItem)},exists:function(a){return this.get(a)!=null},set:function(a,e){return window.sessionStorage.setItem(this._key(a),e)},get:function(a){if((a=window.sessionStorage.getItem(this._key(a)))&&
typeof a.value!="undefined")a=a.value;return a},clear:function(a){window.sessionStorage.removeItem(this._key(a))},_key:function(a){return["store",this.element,this.name,a].join(".")}});Sammy.Store.Cookie=function(a,e,d){this.name=a;this.element=e;this.options=d||{};this.path=this.options.path||"/";this.expires_in=this.options.expires_in||1209600};a.extend(Sammy.Store.Cookie.prototype,{isAvailable:function(){return"cookie"in document&&window.location.protocol!="file:"},exists:function(a){return this.get(a)!=
null},set:function(a,e){return this._setCookie(a,e)},get:function(a){return this._getCookie(a)},clear:function(a){this._setCookie(a,"",-1)},_key:function(a){return["store",this.element,this.name,a].join(".")},_getCookie:function(a){a=this._key(a).replace(/(\.|\*|\(|\)|\[|\])/g,"\\$1");return(a=document.cookie.match("(^|;\\s)"+a+"=([^;]*)(;|$)"))?a[2]:null},_setCookie:function(a,e,d){d||(d=this.expires_in*1E3);var m=new Date;m.setTime(m.getTime()+d);a=[this._key(a),"=",e,"; expires=",m.toGMTString(),
"; path=",this.path].join("");document.cookie=a}});Sammy.Storage=function(){this.use(Sammy.JSON);this.stores=this.stores||{};this.store=function(h,e){if(typeof this.stores[h]=="undefined"){var d="clear"+h.substr(0,1).toUpperCase()+h.substr(1);this.stores[h]=new Sammy.Store(a.extend({name:h,element:this.element_selector},e||{}));this[h]=function(d,e){return typeof e=="undefined"?this.stores[h].get(d):a.isFunction(e)?this.stores[h].fetch(d,e):this.stores[h].set(d,e)};this[d]=function(){return this.stores[h].clearAll()};
this.helper(h,function(){return this.app[h].apply(this.app,arguments)});this.helper(d,function(){return this.app[d]()})}return this.stores[h]};this.helpers({store:function(){return this.app.store.apply(this.app,arguments)}})};Sammy.Session=function(h,e){this.use(Sammy.Storage);this.store("session",a.extend({type:["local","cookie","memory"]},e))};Sammy.Cache=function(h,e){this.use(Sammy.Storage);this.cache_partials=!0;this.store("cache",a.extend({type:["local","session","memory"]},e))}})(jQuery);
(function(a){function h(a){a=unescape(a);return a==="true"?!0:a==="false"?!1:a}function e(d,m,l){var k;if(m.match(/^[^\[]+$/))d[m]=h(l);else if(k=m.match(/^([^\[]+)\[\](.*)$/)){m=k[1];k=k[2];if(d[m]&&!a.isArray(d[m]))throw"400 Bad Request";if(k){k=k.match(/^\[([^\]]+)\](.*)$/);if(!k)throw"400 Bad Request";d[m]?d[m][d[m].length-1][k[1]]?d[m].push(e({},k[1]+k[2],l)):a.extend(!0,d[m][d[m].length-1],e({},k[1]+k[2],l)):d[m]=[e({},k[1]+k[2],l)]}else d[m]?d[m].push(h(l)):d[m]=[h(l)]}else if(k=m.match(/^([^\[]+)\[([^\[]+)\](.*)$/)){m=
k[1];k=k[2]+k[3];if(d[m]&&a.isArray(d[m]))throw"400 Bad Request";d[m]?a.extend(!0,d[m],e(d[m],k,l)):d[m]=e({},k,l)}return d}Sammy=Sammy||{};Sammy.NestedParams=function(a){a._parseParamPair=e}})(jQuery);
(function(a){if(!window.Mustache)var h=function(){var a=function(){};a.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(a,e,h,k){if(!k)this.context=e,this.buffer=[];if(!this.includes("",a))if(k)return a;else{this.send(a);return}a=this.render_pragmas(a);a=this.render_section(a,e,h);if(k)return this.render_tags(a,e,h,k);this.render_tags(a,e,h,k)},send:function(a){a!=""&&this.buffer.push(a)},render_pragmas:function(a){if(!this.includes("%",
a))return a;var e=this;return a.replace(RegExp(this.otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+this.ctag),function(a,d,h){if(!e.pragmas_implemented[d])throw{message:"This implementation of mustache doesn't understand the '"+d+"' pragma"};e.pragmas[d]={};h&&(a=h.split("="),e.pragmas[d][a[0]]=a[1]);return""})},render_partial:function(a,e,h){a=this.trim(a);if(!h||h[a]===void 0)throw{message:"unknown_partial '"+a+"'"};if(typeof e[a]!="object")return this.render(h[a],e,h,!0);return this.render(h[a],e[a],h,!0)},
render_section:function(a,e,h){if(!this.includes("#",a)&&!this.includes("^",a))return a;var k=this;return a.replace(RegExp(this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]+?)"+this.otag+"\\/\\s*\\2\\s*"+this.ctag+"\\s*","mg"),function(a,d,t,v){a=k.find(t,e);if(d=="^")return!a||k.is_array(a)&&a.length===0?k.render(v,e,h,!0):"";else if(d=="#")return k.is_array(a)?k.map(a,function(a){return k.render(v,k.create_context(a),h,!0)}).join(""):k.is_object(a)?k.render(v,k.create_context(a),h,!0):typeof a===
"function"?a.call(e,v,function(a){return k.render(a,e,h,!0)}):a?k.render(v,e,h,!0):""})},render_tags:function(a,e,h,k){var n=this,q=function(){return RegExp(n.otag+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+n.ctag+"+","g")},t=q(),v=function(a,d,g){switch(d){case "!":return"";case "=":return n.set_delimiters(g),t=q(),"";case ">":return n.render_partial(g,e,h);case "{":return n.find(g,e);default:return n.escape(n.find(g,e))}};a=a.split("\n");for(var w=0;w<a.length;w++)a[w]=a[w].replace(t,v,this),k||this.send(a[w]);
if(k)return a.join("\n")},set_delimiters:function(a){a=a.split(" ");this.otag=this.escape_regex(a[0]);this.ctag=this.escape_regex(a[1])},escape_regex:function(a){if(!arguments.callee.sRE)arguments.callee.sRE=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g");return a.replace(arguments.callee.sRE,"\\$1")},find:function(a,e){a=this.trim(a);var h;e[a]===!1||e[a]===0||e[a]?h=e[a]:(this.context[a]===!1||this.context[a]===0||this.context[a])&&(h=this.context[a]);if(typeof h==="function")return h.apply(e);
if(h!==void 0)return h;return""},includes:function(a,e){return e.indexOf(this.otag+a)!=-1},escape:function(a){return String(a===null?"":a).replace(/&(?!\w+;)|["<>\\]/g,function(a){switch(a){case "&":return"&amp;";case "\\":return"\\\\";case '"':return'"';case "<":return"&lt;";case ">":return"&gt;";default:return a}})},create_context:function(a){if(this.is_object(a))return a;else{var e=".";if(this.pragmas["IMPLICIT-ITERATOR"])e=this.pragmas["IMPLICIT-ITERATOR"].iterator;var h={};h[e]=a;return h}},
is_object:function(a){return a&&typeof a=="object"},is_array:function(a){return Object.prototype.toString.call(a)==="[object Array]"},trim:function(a){return a.replace(/^\s*|\s*$/g,"")},map:function(a,e){if(typeof a.map=="function")return a.map(e);else{for(var h=[],k=a.length,n=0;n<k;n++)h.push(e(a[n]));return h}}};return{name:"mustache.js",version:"0.3.1-dev",to_html:function(d,h,l,k){var n=new a;if(k)n.send=k;n.render(d,h,l);if(!k)return n.buffer.join("\n")}}}();Sammy=Sammy||{};Sammy.Mustache=function(e,
d){d||(d="mustache");e.helper(d,function(d,e,k){e=a.extend({},this,e);k=a.extend({},e.partials,k);return h.to_html(d,e,k)})}})(jQuery);
(function(a,h){h=h||{};h.Couch=function(e,d){d=d||window.location.pathname.split("/")[1];var h=function(){if(!d)throw"Please define a db to load from";return this._db=this._db||a.couch.db(d)},l=function(){return(new Date).getTime()};this.db=h();this.createModel=function(h,m){m=a.extend({defaultDocument:function(){return{type:h,updated_at:l()}},errorHandler:function(a){e.trigger("error."+h,{error:a})}},m||{});var q=function(e){var d={error:m.errorHandler};return a.isFunction(e)?a.extend(d,{success:e}):
a.extend(d,e||{})},t={timestamp:l,extend:function(e){a.extend(t,e)},all:function(d){return e.db.allDocs(a.extend(q(d),{include_docs:!0}))},get:function(d,h,k){a.isFunction(h)&&(k=h,h={});return e.db.openDoc(d,a.extend(q(k),h))},create:function(e,d){return t.save(a.extend({},m.defaultDocument(),e),d)},save:function(d,h){a.isFunction(t.beforeSave)&&(d=t.beforeSave(d));return e.db.saveDoc(d,q(h))},update:function(d,e,h){t.get(d,function(f){e=a.extend(f,e);t.save(e,h)})},view:function(h,k,l){a.isFunction(k)&&
(l=k,k={});return e.db.view([d,h].join("/"),a.extend(q(l),k))},viewDocs:function(h,k,l){a.isFunction(k)&&(l=k,k={});k=a.extend({include_docs:!0},q(function(a){for(var d=[],c=0;c<a.rows.length;c++)d.push(a.rows[c].doc);l(d)}),k);return e.db.view([d,h].join("/"),k)}};return t};this.helpers({db:h()})}})(jQuery,window.Sammy);
(function(a){var h=a.sammy("#container",function(){this.use("JSON").use("Mustache").use("Storage").use("NestedParams").use("Couch","action");var e=function(){a("#loading").show()},d=function(){a("#loading").hide()},h=function(a){a.find(".content-input").val("");a.find(".action-preview").html("")};this.helpers({serializeObject:function(d){var e={};d=a(d).serializeArray();a.each(d,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=
this.value||""});return e},postReplication:function(){var d=this;a(".replicator-form").submit(function(e){e.preventDefault();a.ajax({url:"/_replicate",type:"post",processData:!1,data:JSON.stringify(d.serializeObject(e.target)),contentType:"application/json",success:function(){d.redirect("#/");console.log("wee")}})})},hexToRGB:function(a){a=a.replace(/^\#/,"");for(var d=[],e=0;e<6;e+=2)d.push(parseInt(a.substring(e,e+2),16));return d},textToColor:function(a){return"rgb("+this.hexToRGB(hex_sha1(a).substr(3,
9)).join(",")+")"},timestr:function(e){if(!e||a.trim(e)=="")return"";return(new Date(parseInt(e,10))).strftime("%c")},formatTimes:function(){var e=this;a(".timestr").text(function(a,d){return e.timestr(d)}).removeClass("timestr").addClass("time")},buildTokenCSS:function(){var e=this;this.send(Action.loadTokens).then(function(d){e.app.tokens=d;var h,m,t=[];for(h in d.token_groups.verb)m=e.textToColor(h),t.push([".verb-",h," { color:",m," !important;}"].join(""));d=a("style#verb-sheet");d.length==0&&
(d=a('<style type="text/css" id="verb-sheet" />').appendTo("body"));d.text(t.join(" "))})},setSearchHeader:function(e){this.log("setSearchHeader",e);e.length!=0&&(a("#header .search-type").text(e.type||""),a("#header .search-token").text(e.token||"").attr("class","search-token").addClass([e.type,e.token].join("-")))},loadActions:function(h,k,m){e();this.buildTokenCSS();this.setSearchHeader(k||this.params);return this.load(a("#templates .action-index")).replace("#main").send(Action[h],m).renderEach(a("#action-template")).appendTo("#main .actions").then("formatTimes").then(d)},
previewAction:function(a){var e=a.parents("form").siblings(".action-preview");a=a.val();e.html(Action.parsedToHTML(Action.parse(a)));this.drawTokenCounts(e)},drawTokenCounts:function(e){var d=this;d.app.tokens&&a.each(["verb","subject"],function(h,m){e.find("."+m).each(function(){var e=a(this),h=e.text(),l=e.children("sup");if(h=d.app.tokens.token_groups[m][h])l.length==0&&(l=a("<sup>").appendTo(e)),l.text(h)})})},handleEdit:function(e){if(e){var d=a('.action[data-id="'+e+'"]'),h=a(".action-index .action-form").clone(!1);
Sammy.log("handleEdit",e,d);h.appendTo(d).find("form").attr("action","#/action/"+e).attr("method","put").end().find(".content-input").val(a.trim(d.find(".content").text().replace(/\s+/," "))).trigger("keyup").focus().end();d.find(".content, .controls, .meta").hide()}}});this.bind("run",function(){e();var d=this;a(".action input.completed").live("click",function(){var e=a(this).parents(".action");d.trigger("toggle-action",{id:e.attr("data-id"),$action:e,complete:a(this).attr("checked")})});a(".action .verb").live("click",
function(e){e.preventDefault();d.redirect("#","action","verb",a(this).text())});a(".action .subject").live("click",function(e){e.preventDefault();d.redirect("#","action","subject",a(this).text())});a(".content-input").live("keyup",function(){d.previewAction(a(this))});a(".action a.edit-action").live("click",function(e){e.preventDefault();d.handleEdit(a(this).attr("data-id"))});a(".action a.sleep-action").live("click",function(){var e=a(this),h=e.parents(".action");d.trigger("sleep-action",{id:e.attr("data-id"),
slept_count:e.attr("data-slept-count"),$action:h})})});this.get("#/",function(){this.loadActions("viewIndex",{})});this.post("#/action",function(){this.send(Action.create,this.params.action).then(function(a){this.event_context.trigger("add-action",{id:a.id})}).send(h,a(this.target).parents(".action-form"))});this.put("#/action/:id",function(){this.send(Action.update,this.params.id,this.params.action).trigger("reload-action",{id:this.params.id})});this.get("#/archive",function(){this.loadActions("viewCompleted",
{type:"archive"})});this.get("#/review",function(){this.loadActions("viewReview",{type:"review"})});this.get("#/asleep",function(){this.loadActions("viewAsleep",{type:"asleep"})});this.get("#/action/search/:query",function(){var a=this.params.query.toString();this.loadActions("viewSearch",{type:"search",token:a},a)});this.get("#/action/:type/:token",function(){this.loadActions("viewByToken",this.params,this.params.toHash())});this.get("#/replicate",function(){e();this.partial(a("#replicator")).then(d).then("postReplication")});
this.bind("add-action",function(e,d){this.log("add-action","params",this.params,"data",d);this.buildTokenCSS();this.send(Action.get,d.id).render(a("#action-template")).prependTo("#main .actions").then("formatTimes")});this.bind("toggle-action",function(e,d){this.log("toggle-action","params",this.params,"data",d);var h={};d.complete?(h={completed:!0,completed_at:Action.timestamp()},window.setTimeout(function(){d.$action.fadeOut("slow",function(){a(this).remove()})},3E3)):h={completed:!1,completed_at:null};
this.send(Action.update,d.id,h).then(function(){d.$action.toggleClass("complete")})});this.bind("sleep-action",function(e,d){this.log("sleep-action","params",this.params,"data",d);var h={sleeping:!0,slept_at:Action.timestamp(),slept_count:(d.slept_count||0)+1};window.setTimeout(function(){d.$action.fadeOut("slow",function(){a(this).remove()})},1E3);this.send(Action.update,d.id,h).then(function(){d.$action.addClass("sleeping slept-"+h.slept_count)})});this.bind("reload-action",function(e,d){if(d.id){var h=
a('.action[data-id="'+d.id+'"]');this.log("reload-action",d,h);this.send(Action.get,d.id).render(a("#action-template")).then(function(a){h.replaceWith(a)}).then("formatTimes")}})});a(function(){h.run("#/")})})(jQuery);Action=Sammy("#container").createModel("action");
Action.extend({tokens:{modifiers:["or","for","of","about","to","with","in","around","up","down","and","a","an","the","out","into","-","on","from","#","/",":"]},chars:"abcdefghijklmnopqrstuvwxyz0123456789".split(""),loadTokens:function(a){Action.view("tokens",{group:!0},function(h){for(var e={verb:{},subject:{}},d={verb:0,subject:0},m,l,k,n=0;n<h.rows.length;n++)m=h.rows[n],l=m.key[0],k=m.key[1],m=m.value,e[l]&&(e[l][k]=m),m>d[l]&&(d[l]=m);a({max:d,token_groups:e})})},parse:function(a){var h=[],e=
{};a=$.trim(a.toString());tokens=a.split(/(\s+|-|\/|\:|\#)/g);var d,m=function(a,d){a?(e[a]?e[a].push(d):e[a]=[d],h.push([a,d])):h.push(d)};d="verb";for(var l=[],k=0;k<tokens.length;k++)if(a=tokens[k],next_token=tokens[k+1],$.trim(a)!="")switch(d){case "verb":m("verb",a);d="subject";break;case "subject":$.inArray(a,Action.tokens.modifiers)!=-1?(l.length>0&&m("subject",l.join(" ")),m(!1,a),l=[]):l.push(a);break;default:m(!1,a)}l.length>0&&m("subject",l.join(" "));return{array:h,hash:e}},parsedToHTML:function(a){if(a.array){for(var h=
[],e=0;e<a.array.length;e++){var d=a.array[e];$.isArray(d)?(h.push("<a href='#/' class='token "),h.push(d[0]+" "),h.push([d[0],d[1].replace(/\s/g,"-")].join("-")+"'>"),h.push(d[1]),h.push("</a> ")):h.push(d+" ")}return h.join("")}else return""},beforeSave:function(a){a.parsed=this.parse(a.content);a.parsed_html=this.parsedToHTML(a.parsed);return a},viewIndex:function(a,h){return Action.viewDocs("by_complete",$.extend({startkey:[0,"a"],endkey:[null,null],descending:!0},a||{}),h)},viewCompleted:function(a,
h){return Action.viewDocs("by_complete",$.extend({startkey:["a","a"],endkey:[1,null],descending:!0},a||{}),h)},viewByToken:function(a,h){return Action.viewDocs("by_token",$.extend({startkey:[a.type,a.token+"a","a"],endkey:[a.type,a.token,null],descending:!0},a||{}),h)},viewReview:function(a,h){return Action.viewDocs("review",$.extend({startkey:["a","a"],endkey:[1,null],descending:!0},a||{}),h)},viewAsleep:function(a,h){return Action.viewDocs("asleep",$.extend({startkey:["a","a"],endkey:[1,0,null],
descending:!0},a||{}),h)},viewSearch:function(a,h){a=a.split("");a[a.length-1]=="*"?(a.pop(),a.push("a"),next=[].concat(a),next.push(null)):next=a;return Action.viewDocs("search",{startkey:a,endkey:next},h)}});
